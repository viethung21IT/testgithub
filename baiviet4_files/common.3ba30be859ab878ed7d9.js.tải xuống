(self.miniJsonp=self.miniJsonp||[]).push([[8592],{25061:function(e,t,r){var o,a,n,s,c,i,l,u,d,S;e.exports=(o=r(34857),a=r(20573),n=r(29494),s=r(96961),c=r(6678),i=r(82677),l=r(38104),u=r(58518),d=r(44900),S=r(36808),(()=>{"use strict";var e={701:(e,t,r)=>{r.d(t,{t:()=>n});var o=r(661),a=r.n(o),n=a().t.bind(a())},661:e=>{e.exports=u},598:e=>{e.exports=S},383:e=>{e.exports=i},252:e=>{e.exports=c},944:e=>{e.exports=o},975:e=>{e.exports=a},783:e=>{e.exports=l},644:e=>{e.exports=s},855:e=>{e.exports=n},672:e=>{e.exports=d}},t={};function r(o){var a=t[o];if(void 0!==a)return a.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var _={};return(()=>{r.r(_),r.d(_,{addNeedCaptchaRequest:()=>Qo,affiliateEntitiesSelector:()=>c,agentConversationEntitiesSelector:()=>l,allMessageShortcutGroupsSelector:()=>Qr,amsFeatureToggleSelector:()=>ie,authorizedShopsCountSelector:()=>Be,autoTranslation:()=>ao,batchRemoveDraftHandler:()=>ct,batchUpdateRecord:()=>j,buyerIsFrozenSelector:()=>$e,captchaSignatureSelector:()=>he,captchaVerifyReducer:()=>Xo,captchaVisibleSelector:()=>pe,chatbotToggleSelector:()=>re,checkUserPermissionSaga:()=>Sr,checkUserPermissionSucceeded:()=>lr,clearNeedCaptchaRequest:()=>Ko,clearReportRequested:()=>Io,contactsEntitiesSelector:()=>T,conversationEntitiesSelector:()=>i,conversationsLengthLevelSelector:()=>v,copySucceedFeedback:()=>Ur,curTabFocusedSelector:()=>je,currentAllMessageShortcutsSelector:()=>Xr,currentGroupIdSelector:()=>xr,currentGroupTypeSelector:()=>Wr,currentMessageShortcutGroupsSelector:()=>zr,currentUserDistributionStatusSelector:()=>Ne,currentUserIdSelector:()=>K,currentUserIsSellerSelector:()=>xe,currentUserRoleSelector:()=>we,currentUserSelector:()=>fe,currentUserShopIdSelector:()=>Pe,currentUserShopSelector:()=>Ue,deepUpdateRecord:()=>L,deleteCaptchaRequest:()=>qo,deleteConfigDurationSelector:()=>Z,deleteConfigSelector:()=>_e,deleteConversationSucceedHandler:()=>ot,deleteRecord:()=>I,disappearChatbotLoadingTimeSelector:()=>ne,displayCBCBannerSelector:()=>io,distributionAccountStatusSelector:()=>co,draftHashSelector:()=>fo,entitiesSelector:()=>n,entityReducer:()=>V,fetchSettings:()=>lo,fetchSettingsStatusSelector:()=>Co,fetchShopAuth:()=>yr,fetchShopsByIds:()=>Cr,fetchedShopIdsSelector:()=>fr,forceLogoutRequested:()=>Wt,forwardGroupMembersSelector:()=>D,forwardGroupsEntitiesSelector:()=>A,getConversationLastMessage:()=>At,getDraft:()=>Ao,getShopUnreadCountByIds:()=>Ar,getTimestamp:()=>ht,getToastInformation:()=>Pr,handle401ErrorRequested:()=>Eo,handleLoginSucceededLogic:()=>Yt,handleMessageSubscribe:()=>ut,hasDeletePermissionSelector:()=>X,hasFetchedUnreadSelector:()=>Ge,hasReplyPermissionSelector:()=>J,hasSidebarPanelSelector:()=>Ve,hasVerifyPhoneNumberNormalSellerSelector:()=>Qe,hasVerifyPhoneNumberSelector:()=>Ke,hasVerifyPhoneNumberSubaccountSelector:()=>qe,hasVideoPermissionSelector:()=>Y,hideBlockEntranceSelector:()=>oe,hideFeedbackSelector:()=>te,isCBSellerSelector:()=>be,isMainPageSelector:()=>Ie,isSubAccountSelector:()=>De,judgeUndefined:()=>Ot,legacyMessageShortcutsCountSelector:()=>so,loadingSelector:()=>q,localeSelector:()=>Ae,login:()=>Jt,loginRequested:()=>Ft,loginSucceeded:()=>Gt,loginSuccessSelector:()=>ke,logout:()=>pr,logoutHandler:()=>Er,logoutRequested:()=>Vt,logoutSucceeded:()=>Bt,messageEntitiesSelector:()=>u,messageShortcutGroupEntitiesSelector:()=>h,messageShortcutGroupHttpStatusSelector:()=>Br,messageShortcutGroupSelector:()=>Vr,messageShortcutsSelector:()=>$r,messageShortcutsStatusSelector:()=>no,messagesLengthLevelSelector:()=>f,networkStatusSelector:()=>z,newChatEntranceSelector:()=>Ce,newMessageFlagSelector:()=>Te,newbieSelector:()=>ge,notificationTypes:()=>Dt,offerSelector:()=>To,offersSelector:()=>Oo,openMallUrl:()=>uo,openMallUrlSaga:()=>_o,orderEntitiesSelector:()=>S,personalMessageShortcutGroupsSelector:()=>qr,personalMessageShortcutsSelector:()=>Yr,productEntitiesSelector:()=>E,productsSelector:()=>Uo,pureActionHandler:()=>_t,pureMergeActionHandler:()=>Et,rateCardEntitiesSelector:()=>O,reduxReset:()=>vo,relatedOfferIdsSelector:()=>go,removeSingleDraftHandler:()=>st,reportArraySelector:()=>wo,reportMessageApiTimer:()=>gt,reportReducer:()=>Vo,reportRequested:()=>No,resendMessagePayloadSelector:()=>Oe,resendNeedCaptchaRequest:()=>zo,saveDraftHandler:()=>it,sellerDriverWhitelistSelector:()=>ce,serviceDownAlertSelector:()=>Ye,serviceDownClosedSelector:()=>Je,serviceDownListSelector:()=>Xe,serviceDownMessageSelector:()=>Ze,setServiceDownStatus:()=>nr,setToastInformation:()=>wr,setToastInformationSaga:()=>Ir,settingsFetchStatusSelector:()=>oo,settingsNeedForceUpdateSelectors:()=>to,settingsSelector:()=>eo,settingsStatusSelector:()=>ro,shopSelector:()=>vr,shopStatisticsMapSelector:()=>me,shopStatisticsSelector:()=>Re,shopTranslationSettingsSelector:()=>Do,shopsEntitiesSelector:()=>g,shopsUnreadConversationCountSelector:()=>B,showAutoHangupModalSelector:()=>We,showChatServingFeatureSelector:()=>se,showChatWindowSelector:()=>Me,showChatbotLoadingTimeSelector:()=>ae,showConversationDetailSelector:()=>He,showCrrDueSelector:()=>ee,showCsatSubmitSelector:()=>le,showEntrySelector:()=>Fe,showRecallBannerSelector:()=>ue,showShop:()=>Dr,showSourceBannerSelector:()=>de,showTopBannerSelector:()=>Se,sortConversations:()=>pt,sortedAllMessageShortcutsSelector:()=>Zr,stickerEntitiesSelector:()=>d,subaccountHasUnrepliedPermissionSelector:()=>Ee,takeEveryWithCancel:()=>ea,teamMessageShortcutGroupsSelector:()=>Kr,teamMessageShortcutsSelector:()=>Jr,textBoxHeightSelector:()=>Le,timerHandler:()=>Ho,toastReducer:()=>Gr,toastSelector:()=>mr,totalUnreadConversationsCountSelector:()=>W,unreadCountActions:()=>x,updateChatEntryStatus:()=>Ut,updateChatWindowStatus:()=>mt,updateConversationDetailStatus:()=>Rt,updateConversationListsHash:()=>po,updateCurTabFocused:()=>er,updateCurTabFocusedSaga:()=>rr,updateCurTabFocusedSucceeded:()=>tr,updateEntities:()=>w,updateHasFetchedUnread:()=>wt,updateHasSidebarPanel:()=>Nt,updateIsMainPage:()=>$t,updateLoginSuccessStatus:()=>Pt,updateNetworkStatus:()=>Ct,updateOrReplaceAction:()=>Ro,updateRecord:()=>N,updateShowAutoHangupModal:()=>yt,updateStatusSelector:()=>yo,updateUseNewChatEntrance:()=>bt,useNewChatEntranceSelector:()=>ye,userEntitiesSelector:()=>s,userReducer:()=>Tr,userSelector:()=>ve,verifyRequestsSelector:()=>$o,voucherEntitiesSelector:()=>p,waitingTimeFilterSelector:()=>$,watchHandleUrlSagas:()=>ho,watchLogin:()=>Xt,watchReportSagas:()=>Go,watchTab:()=>or,watchToastSagas:()=>Fr,watchUserSagas:()=>gr,watchVerifySagas:()=>Zo});var e=r(944),t=r(975),o=r(855),a=e=>e<=100?1:e<=500?2:e<=1e3?3:4,n=e=>e.entityReducer,s=(0,t.createSelector)(n,(e=>e.users)),c=(0,t.createSelector)(n,(e=>e.affiliate)),i=(0,t.createSelector)(n,(e=>e.conversations)),l=(0,t.createSelector)(n,(e=>e.agentConversations)),u=(0,t.createSelector)(n,(e=>(e=>(0,o.checkEmptyObject)(e)?{}:e)(e.messages))),d=(0,t.createSelector)(n,(e=>e.stickers)),S=(0,t.createSelector)(n,(e=>e.orders)),E=(0,t.createSelector)(n,(e=>e.products)),p=(0,t.createSelector)(n,(e=>e.vouchers)),h=(0,t.createSelector)(n,(e=>e.messageShortcutsGroups)),O=(0,t.createSelector)(n,(e=>e.rateCards)),g=(0,t.createSelector)(n,(e=>e.shops)),T=(0,t.createSelector)(n,(e=>e.contacts)),v=(0,t.createSelector)(i,l,((e,t)=>{var r=Object.keys(e).length+Object.keys(t).length;return a(r)})),f=(0,t.createSelector)(u,(e=>a(Object.keys(e).length))),A=(0,t.createSelector)(n,(e=>e.groups)),D=(0,t.createSelector)(n,(e=>e.groupMembers));function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y,b=r(644);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e.UPDATE_ENTITIES="UPDATE_ENTITIES",e.UPDATE_RECORD="UPDATE_RECORD",e.DELETE_RECORD="DELETE_RECORD",e.BATCH_UPDATE_RECORD="BATCH_UPDATE_RECORD",e.DEEP_UPDATE_RECORD="DEEP_UPDATE_RECORD"}(y||(y={}));const P={[y.UPDATE_ENTITIES]:(e,{payload:{entities:t}})=>Object.entries(t).reduce(((e,[t,r])=>"persist"!==t?("shops"===t&&b.shopService.updateShopMap(r),R(R({},e),{},{[t]:R(R({},e[t]),r)})):R(R({},e),{},{[t]:r})),e)};var U=r(252),{updateEntities:w,updateRecord:N,deleteRecord:I,batchUpdateRecord:j,deepUpdateRecord:L}=(0,U.createActions)({[y.UPDATE_ENTITIES]:({entities:e})=>({entities:e}),[y.UPDATE_RECORD]:({name:e,id:t,record:r})=>({name:e,id:t,record:r}),[y.DELETE_RECORD]:({name:e,id:t})=>({name:e,id:t}),[y.BATCH_UPDATE_RECORD]:({name:e,records:t,checkProp:r})=>({name:e,records:t,checkProp:r}),[y.DEEP_UPDATE_RECORD]:({name:e,id:t,record:r})=>({name:e,id:t,record:r})});function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const k={[y.UPDATE_RECORD]:(e,{payload:{name:t,id:r,record:o}})=>M(M({},e),{},{[t]:M(M({},e[t]),{},{[r]:M(M({},e[t][r]),o)})}),[y.DELETE_RECORD]:(e,{payload:{name:t,id:r}})=>{var o=e[t];return delete o[r],M(M({},e),{},{[t]:o})},[y.BATCH_UPDATE_RECORD]:(e,{payload:{name:t,records:r,checkProp:o}})=>{var a=M({},e[t]);return Object.keys(r).forEach((e=>{(!o||o&&r[e][o]>a[e][o])&&(a[e]=M(M({},a[e]),r[e]))})),M(M({},e),{},{[t]:a})},[y.DEEP_UPDATE_RECORD]:(e,{payload:{name:t,id:r,record:o}})=>{var a=Object.keys(o),n={},s=M({},e[t][r]);return a.forEach((e=>{n[e]=M(M({},s[e]),o[e])})),M(M({},e),{},{[t]:M(M({},e[t]),{},{[r]:M(M({},e[t][r]),n)})})}};function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var V=(0,U.handleActions)(G(G({},P),k),{users:{},affiliate:{},messages:{},conversations:{},agentConversations:{},stickers:{},orders:{},offers:{},products:{},shops:{},rateCards:{},persist:null,vouchers:{},messageShortcuts:{}}),B=e=>{var t;return(null==e||null===(t=e.socketReducer)||void 0===t?void 0:t.shopsUnreadConversationCount)||0},W=e=>{var t;return(null==e||null===(t=e.socketReducer)||void 0===t?void 0:t.totalUnreadConversationsCount)||0},x={MARK_AS_READ:"markAsRead",MARK_AS_UNREAD:"markASUnread",CLOSE_CONVERSATION:"closeConversation",DELETE_CONVERSATION:"deleteConversation",FORWARD_CONVERSATION:"forwardConversation",RECEIVE_UNREADABLE_MESSAGE:"receiveUnreadableMessage",REFRESH_TOTAL_UNREAD_CONVERSATION_COUNT:"refreshTotalUnreadConversationCount",REFRESH_SHOPS_UNREAD_CONVERSATIONS_COUNT:"refreshShopsUnreadConversationsCount",REFRESH_SINGLE_SHOP_UNREAD_CONVERSATION_COUNT:"refreshSingleShopUnreadConversationCount",UPDATE_CONVERSATION:"updateConversation",MESSAGE_QUEUE_UPDATE:"messageQueueUpdate",MASS_READ:"mass_read",MASS_UNREAD:"mass_unread",MASS_CLOSE:"mass_close",ACTIVE_CONVERSATION:"activeConversation",CLEAR_CONVERSATION_COUNT:"clearConversationCount"},Q=r(383),q=e=>e.userReducer.loading,K=e=>e.userReducer.currentUserId,z=e=>e.userReducer.networkStatus,Y=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.hasVideoPermission)||!1},J=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.hasReplyPermission)||!1},X=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.hasDeletePermission)||!1},Z=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.deleteConfigDuration)||0},$=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.waitingTimeFilter)||!1},ee=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.showCrrDue)||!1},te=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.hideFeedback)||!1},re=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.chatbotToggle)||0},oe=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.hideBlockEntrance)||!1},ae=e=>{var t;return null==e||null===(t=e.userReducer)||void 0===t?void 0:t.showChatbotLoadingTime},ne=e=>{var t;return null==e||null===(t=e.userReducer)||void 0===t?void 0:t.disappearChatbotLoadingTime},se=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.showChatServingFeature)||!1},ce=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.sellerDriverWhitelist)||!1},ie=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.amsFeatureToggle)||!1},le=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.showCsatSubmit)||!1},ue=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.showRecallBanner)||!1},de=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.showSourceBanner)||!1},Se=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.showTopBanner)||!1},_e=e=>{var{hasDeletePermission:t=!1,deleteConfigVersion:r=0,deleteConfigDuration:o=0}=(null==e?void 0:e.userReducer)||{};return{hasDeletePermission:t,deleteConfigVersion:r,deleteConfigDuration:o}},Ee=e=>e.userReducer.subaccountHasUnrepliedPermission,pe=e=>{var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.captchaVisible)||!1},he=e=>{var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.captchaSignature)||""},Oe=e=>{var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.resendMessagePayload)||void 0},ge=e=>{var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.newbie)||[]},Te=e=>e.userReducer.newMessageFlag,ve=e=>(0,t.createSelector)(n,(t=>(0,Q.denormalize)(e,b.userSchema,{users:t}))),fe=(0,t.createSelector)(s,K,((e,t)=>(0,Q.denormalize)(t,b.userSchema,{users:e})||{})),Ae=(0,t.createSelector)(fe,(e=>e&&e.locale)),De=(0,t.createSelector)(fe,(e=>!(0,o.checkEmptyObject)(e)&&e.type===o.AccountType.SUBACCOUNT)),Ce=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.useNewChatEntrance)||!1},ye=(0,t.createSelector)(De,Ce,((e,t)=>!e&&t)),be=(0,t.createSelector)(fe,(e=>!(0,o.checkEmptyObject)(e)&&e.is_cb)),me=e=>{var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.shopStatisticsMap)||{}},Re=(e,r)=>(0,t.createSelector)(me,(t=>t["".concat(e,"-").concat(r)]||{})),Pe=(0,t.createSelector)(fe,De,((e={},t)=>t?void 0:e.shop_id)),Ue=(0,t.createSelector)(fe,De,g,((e={},t,r)=>t?void 0:(0,Q.denormalize)(e.shop_id,b.shopSchema,{shops:r})||{})),we=(0,t.createSelector)(fe,((e={})=>e.role||"")),Ne=(0,t.createSelector)(fe,(e=>e&&e.distribution_status||"")),Ie=e=>e.userReducer.isMainPage,je=e=>e.userReducer.curTabFocused,Le=e=>{var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.textBoxHeight)||0},He=e=>e.userReducer.showConversationDetail,Me=e=>e.userReducer.showChatWindow,ke=e=>e.userReducer.loginSuccess,Fe=e=>e.userReducer.showEntry,Ge=e=>e.userReducer.hasFetchedUnread,Ve=e=>e.userReducer.hasSidebarPanel,Be=(0,t.createSelector)(fe,((e={})=>e.authorizedShopsCount||0)),We=e=>e.userReducer.showAutoHangupModal,xe=(0,t.createSelector)(fe,De,((e={},t)=>!!t||e.is_seller)),Qe=e=>{var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.hasVerifyPhoneNumber)||!1},qe=e=>{var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.hasVerifyPhoneNumberMap)||{}},Ke=(0,t.createSelector)(De,Qe,qe,((e,t,r)=>e?r:t)),ze=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.serviceDownStatus)||{}},Ye=(0,t.createSelector)(ze,(e=>e.alert||!1)),Je=(0,t.createSelector)(ze,(e=>e.closed||!1)),Xe=(0,t.createSelector)(ze,(e=>e.list||!1)),Ze=(0,t.createSelector)(ze,(e=>e.message||!1)),$e=(e,r,o)=>(0,t.createSelector)(Re(e,r),(e=>"frozen"===o&&"boolean"==typeof e.exist_pending_order&&!e.exist_pending_order));function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?et(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var rt=(e,t)=>{var r=new Set(t);return r.delete(e),Array.from(r)},ot=(e,{payload:{conversationId:t}})=>{var r=tt(tt({},e.conversationIdsMap),{},{[t]:!1}),o=rt(t,e.conversationIds),a=rt(t,e.pinnedConversationIds),{currentConversationId:n}=e;return tt(tt({},e),{},{currentConversationId:n===t?null:n,conversationIds:o,pinnedConversationIds:a,conversationIdsMap:r})};function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?at(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var st=(e,{payload:{conversationId:t}})=>{var r=nt({},e.draftHash);return delete r[t],nt(nt({},e),{},{draftHash:r})},ct=(e,{payload:{conversationIds:t=[]}})=>{var r=nt({},e.draftHash);return t.forEach((e=>{delete r[e]})),nt(nt({},e),{},{draftHash:r})},it=(e,{payload:{conversationId:t,draft:r}})=>{var o=nt({},e.draftHash);return o[t]=r,nt(nt({},e),{},{draftHash:o})},lt=r(783);function*ut(t){var{payload:r,type:a}=t;yield(0,e.spawn)(gt,r.request_id),a===o.ConversationTypeEnum.Agent?yield(0,e.put)((0,lt.receiveAgentMessageRequested)({message:r})):yield(0,e.put)((0,lt.receiveMessageRequested)({message:r}))}function dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _t=()=>(e,{payload:t})=>St(St({},e),t),Et=e=>(t,{payload:r})=>St(St({},t),{},{[e]:St(St({},t[e]),r)}),pt=e=>{e.sort(((e,t)=>parseInt(t.latest_message_id)-parseInt(e.latest_message_id)))},ht=(e,t)=>{var{last_message_time_nano:r,next_timestamp_nano:o}=e;return t&&!o&&(o=t.next_message_time_nano),{nextTimestampNano:o,oldestTimestampNano:o,latestTimestampNano:r}},Ot=({defaultValue:e,value:t})=>void 0===t?e:t;function*gt(e){var t=yield(0,o.getItem)(e);if(t){var r=(0,b.getReportManager)();null==r||r.reportMessageSocket(t),(0,o.removeItem)(e)}}var Tt,vt=r(701).t,{MSG_TYPE_TEXT:ft}=o.MessageTypes,At=(e,t,r)=>{var a=e.all||[],n=e.sending||[],s=e.failed||[],c=a.length,i=null;if(c){for(var l=0,u=null;l<c&&!u;){var d=e.all[l];(u=(0,Q.denormalize)(d,b.messageSchema,{messages:r}))&&(u.type===o.MessageTypes.MSG_TYPE_SECURITY_TIPS||u.isFaking)&&(u=null),l++}u&&u.created_timestamp>Math.floor(t.last_message_time_nano/Math.pow(10,9))&&(i=(0,o.fillMessagePreview)(u))}if(!i){var{latest_message_id:S,latest_message_content:_,latest_message_type:E,last_message_option:p,latest_message_source:h,last_message_time_nano:O,latest_message_to_shop_id:g,label_info:T}=t;(i={id:S,content:_,type:E,message_option:p,source:h,to_shop_id:g,label_info:T}).created_at=new Date(O/1e6)+""}var{id:v,message_option:f}=i,A=n.includes(v)?o.MessageSendStatus.SENDING:s.includes(v)?o.MessageSendStatus.FAILED:i.send_status?o.MessageSendStatus.SUCCEED:null;return(0,o.hasTargetMessageOption)(f,o.MessageOption.MSG_OPT_CENSORED_BLACKLIST)&&(A=o.MessageSendStatus.FAILED,i.type=ft,i.content={text:vt("common.blacklist.replaced_text")}),(0,o.hasTargetMessageOption)(f,o.MessageOption.MSG_OPT_CANCELORDER_WARNING_NOT_SEND)&&(A=o.MessageSendStatus.FAILED),i.send_status=A,i},Dt={MARK_AS_READ:"mark_as_read",MARK_AS_UNREAD:"mark_as_unread",DELETE_CONVERSATION:"delete_conversation",UPDATE_OFFER_STATUS:"update_offer_status",UPDATE_CONVERSATION:"update_conversation",UPDATE_USER_STATUS:"update_user_status",UPDATE_CONVERSATION_FLAG:"update_conversation_flag",FORCE_LOGOUT:"force_logout",UPDATE_RATING_CARD_STATUS:"update_rating_card_status",PULL_NOTIFICATION:"pull_notification",PIN_CONVERSATION:"pin_conversation",UNPIN_CONVERSATION:"unpin_conversation",MASS_READ:"mass_read",MASS_UNREAD:"mass_unread",MASS_PIN:"mass_pin",MASS_UNPIN:"mass_unpin",MASS_CLOSE:"mass_close",MASS_ACTIVATE:"mass_activate",VIDEO_UPLOAD:"video_upload",MARK_AS_REPLIED:"mark_as_replied",MARK_AS_UNREPLIED:"mark_as_unreplied",CHAT_DELETE_MSG:"chat_delete_msg",FAQ_SESSION_UPDATE:"faq_session_update",MUTE_CONVERSATION:"mute_conversation",UNMUTE_CONVERSATION:"unmute_conversation",CTT_UPDATE:"ctt_update",HAVE_UNRATED_CSAT:"have_unrated_csat",FAQ_SELLER_UNREAD_STATUS_UPDATE:"faq_seller_unread_status_update"};!function(e){e.SHOW_LOADING_SUCCEEDED="SHOW_LOADING_SUCCEEDED",e.SET_HAS_SESSION="SET_HAS_SESSION",e.UPDATE_NETWORK_STATUS="UPDATE_NETWORK_STATUS",e.UPDATE_CUR_TAB_FOCUSED="UPDATE_CUR_TAB_FOCUSED",e.UPDATE_CUR_TAB_FOCUSED_SUCCEEDED="UPDATE_CUR_TAB_FOCUSED_SUCCEEDED",e.UPDATE_WORKSTATION_PANEL="UPDATE_WORKSTATION_PANEL",e.UPDATE_NEW_MESSAGE_FLAG="UPDATE_NEW_MESSAGE_FLAG",e.UPDATE_CHAT_WINDOW_STATUS="UPDATE_CHAT_WINDOW_STATUS",e.UPDATE_CONVERSATION_DETAIL_STATUS="UPDATE_CONVERSATION_DETAIL_STATUS",e.UPDATE_LOGIN_SUCCESS_STATUS="UPDATE_LOGIN_SUCCESS_STATUS",e.UPDATE_CHAT_ENTRY_STATUS="UPDATE_CHAT_ENTRY_STATUS",e.LOGIN_REQUESTED="LOGIN_REQUESTED",e.LOGIN_SUCCEEDED="LOGIN_SUCCEEDED",e.LOGOUT_REQUESTED="LOGOUT_REQUESTED",e.LOGOUT_SUCCEEDED="LOGOUT_SUCCEEDED",e.UPDATE_LOGIN_STATUS="UPDATE_LOGIN_STATUS",e.SHOW_TRANSLATION_GUIDE="SHOW_TRANSLATION_GUIDE",e.SHOW_REGION_FILTER_GUIDE="SHOW_REGION_FILTER_GUIDE",e.FORCE_LOGOUT_REQUESTED="FORCE_LOGOUT_REQUESTED",e.CONNECT_SOCKET="CONNECT_SOCKET",e.UPLOAD_FEEDBACK_VIDEO_REQUESTED="UPLOAD_FEEDBACK_VIDEO_REQUESTED",e.UPLOAD_FEEDBACK_VIDEO_STATUS="UPLOAD_FEEDBACK_VIDEO_STATUS",e.UPDATE_RELATED_CAPACITY="UPDATE_RELATED_CAPACITY",e.UPDATE_IS_MAIN_PAGE="UPDATE_IS_MAIN_PAGE",e.UPDATE_SHOW_AUTO_HANGUP_MODAL="UPDATE_SHOW_AUTO_HANGUP_MODAL",e.UPDATE_HAS_FETCHED_UNREAD="UPDATE_HAS_FETCHED_UNREAD",e.CHECK_USER_PERMISSION_SUCCEEDED="CHECK_USER_PERMISSION_SUCCEEDED",e.SET_SERVICE_DOWN_STATUS="SET_SERVICE_DOWN_STATUS",e.UPDATE_HAS_SIDEBAR_PANEL="UPDATE_HAS_SIDEBAR_PANEL",e.UPDATE_USE_NEW_CHAT_ENTRANCE="UPDATE_USE_NEW_CHAT_ENTRANCE"}(Tt||(Tt={}));var{updateNetworkStatus:Ct,updateShowAutoHangupModal:yt,updateUseNewChatEntrance:bt,updateChatWindowStatus:mt,updateConversationDetailStatus:Rt,updateLoginSuccessStatus:Pt,updateChatEntryStatus:Ut,updateHasFetchedUnread:wt,updateHasSidebarPanel:Nt}=(0,U.createActions)({[Tt.UPDATE_NETWORK_STATUS]:({networkStatus:e})=>({networkStatus:e}),[Tt.UPDATE_SHOW_AUTO_HANGUP_MODAL]:({showAutoHangupModal:e})=>({showAutoHangupModal:e}),[Tt.UPDATE_USE_NEW_CHAT_ENTRANCE]:({useNewChatEntrance:e})=>({useNewChatEntrance:e}),[Tt.UPDATE_CHAT_WINDOW_STATUS]:({showChatWindow:e})=>({showChatWindow:e}),[Tt.UPDATE_CONVERSATION_DETAIL_STATUS]:({showConversationDetail:e})=>({showConversationDetail:e}),[Tt.UPDATE_LOGIN_SUCCESS_STATUS]:({loginSuccess:e})=>({loginSuccess:e}),[Tt.UPDATE_CHAT_ENTRY_STATUS]:({showEntry:e})=>({showEntry:e}),[Tt.UPDATE_HAS_FETCHED_UNREAD]:({hasFetchedUnread:e})=>({hasFetchedUnread:e}),[Tt.UPDATE_HAS_SIDEBAR_PANEL]:({hasSidebarPanel:e})=>({hasSidebarPanel:e})});const It={[Tt.UPDATE_NETWORK_STATUS]:_t(),[Tt.UPDATE_SHOW_AUTO_HANGUP_MODAL]:_t(),[Tt.UPDATE_USE_NEW_CHAT_ENTRANCE]:_t(),[Tt.UPDATE_CHAT_WINDOW_STATUS]:_t(),[Tt.UPDATE_CONVERSATION_DETAIL_STATUS]:_t(),[Tt.UPDATE_LOGIN_SUCCESS_STATUS]:_t(),[Tt.UPDATE_CHAT_ENTRY_STATUS]:_t(),[Tt.UPDATE_HAS_FETCHED_UNREAD]:_t(),[Tt.UPDATE_HAS_SIDEBAR_PANEL]:_t()};var jt=r(672),Lt=r(598),Ht=r.n(Lt);function Mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var{loginRequested:Ft,loginSucceeded:Gt,logoutRequested:Vt,logoutSucceeded:Bt,forceLogoutRequested:Wt}=(0,U.createActions)({[Tt.LOGIN_REQUESTED]:()=>({}),[Tt.LOGIN_SUCCEEDED]:({currentUserId:e,status:t})=>({currentUserId:e,status:t}),[Tt.LOGOUT_REQUESTED]:()=>({}),[Tt.LOGOUT_SUCCEEDED]:()=>({}),[Tt.FORCE_LOGOUT_REQUESTED]:()=>({})});function*xt(){var t=(0,o.getTranslationLocale)((0,o.getRuntimeLocale)()),r=yield(0,e.call)(b.getTranslation,{locale:t});yield(0,e.call)(o.changeLanguage,t,r)}var Qt=function*(t){var r,a,n=(0,b.getReportManager)(),s=window.__CHATEASY_TRANSLATION__;if((0,o.checkEmptyObject)(s)||(0,o.checkEmptyObject)(s.collection))a=(0,o.getMallTranslationLocale)(),null==n||n.reportFetchTranslationInService();else{null==n||n.reportFetchTranslationInHtml();var c={};Object.keys(s.collection).forEach((e=>{c=Object.assign(c,s.collection[e])})),r=c,a=window.__CHATEASY_LOCALE__}if(!r)try{r=yield(0,e.call)(b.getTranslation,{locale:a})}catch(t){r=yield(0,e.call)(b.getTranslation,{locale:(0,o.getTranslationLocale)((0,o.getRuntimeLocale)())})}yield(0,e.call)(o.changeLanguage,a,r),yield(0,e.call)(o.updateTimeLocale,(0,o.getServiceLocale)(a))};function*qt(){}var Kt=function*(t){yield(0,e.call)(xt),yield(0,e.put)(Ut({showEntry:!0})),yield(0,e.put)(Pt({loginSuccess:!1}));var r,o=(0,b.getReportManager)();null==o||o.reportLoginFailed({type:(r=t,r instanceof b.InternalServerError?"InternalServerError":r instanceof b.Forbidden?"Forbidden":r instanceof b.Unauthoried?"Unauthoried":"Other")})};function*zt(){try{var e=[];for(var[t,r]of Object.entries(window.localStorage))if(t.includes("MDAP_CONFIG_STORAGE_minichat_live_")){var o=t.split("_")||[],a=(o[o.length-1]||"").split(".")||[];if(a.length){var n=a[0]?Number(a[0]):"",s=a[1]?Number(a[1]):"",c=a[2]?Number(a[2]):"";(n&&n<8||s&&s<5||5===s&&c&&c<6)&&e.push(t)}}e.length&&e.forEach((e=>{window.localStorage.removeItem(e)}))}catch(e){console.log("删除MDAP发生错误")}}function*Yt(t,r){try{var{godToken:a}=r,{user:n,show_chatbot_entrance:s}=t,{id:c,type:i,locale:l,distribution_status:u}=n,d=i===o.AccountType.SUBACCOUNT;window.__WEBCHAT_LOGIN__||d&&"working"===u&&(window.__WEBCHAT_LOGIN__=!0),yield(0,e.call)(Qt,l||"en"),performance.mark("APP_RENDERING"),(0,b.collectLoadTask)(),(0,b.mdapConfig)(i),(0,b.configTrackerUser)(n),yield(0,e.put)(bt({useNewChatEntrance:s})),yield(0,e.put)(Ct({networkStatus:"online"})),window.addEventListener("online",(()=>{jt.store.dispatch(Ct({networkStatus:"online"}))})),window.addEventListener("offline",(()=>{jt.store.dispatch(Ct({networkStatus:"offline"}))})),window.addEventListener("message",(e=>{var t;if("captcha-modal"===(null===(t=e.data)||void 0===t?void 0:t.type)){var r,a,n,s;if(3===(null===(r=e.data)||void 0===r?void 0:r.status)){var c,i,l,u=null===(c=e.data)||void 0===c?void 0:c.AC_CERT_D;u&&(0,o.isVisitingCn)()&&Ht().set("AC_CERT_D",u,{secure:!0,domain:"".concat(window.location.host),expires:new Date((new Date).getTime()+6e4)}),jt.store.dispatch(zo()),null===(i=(l=window).closeSFUCaptchaModal)||void 0===i||i.call(l)}1===(null===(a=e.data)||void 0===a?void 0:a.status)&&(jt.store.dispatch(qo()),null===(n=(s=window).closeSFUCaptchaModal)||void 0===n||n.call(s))}}),!1),yield(0,e.put)(Pt({loginSuccess:!0})),yield(0,e.put)(Ut({showEntry:!0}));var{entities:S}=(0,b.normalize)("users",n);yield(0,e.put)(w({entities:S})),a||(yield(0,e.call)(lt.startConnect)),yield(0,e.put)(Gt({currentUserId:c})),yield(0,e.call)(Sr),yield(0,e.spawn)(qt),d||(yield(0,e.call)(lt.fetchShopSettings,{payload:{shopId:n.shop_id}})),yield(0,e.spawn)(zt)}catch(t){yield(0,e.call)(Kt,t)}}function*Jt(){try{var t,r;performance.mark("APP_PREPARED");var a={},n=(0,b.getReportManager)();if(window.__WEBCHAT_SESSION__)null==n||n.reportLoginInHtml(),a=window.__WEBCHAT_SESSION__;else{null==n||n.reportLoginInService();var s={method:"POST",subServer:"coreapi",resource:"login"},c=(0,o.isVisitingCNSC)()||(0,o.isVisitingKRSC)();s.params={source:"pcmall"},c&&(s.parent="cbsc"),a=yield(0,e.call)(b.fetch,s),window.__WEBCHAT_SESSION__=a}return performance.mark("LOGIN_API_RESPONSED"),yield(0,o.setItem)("mini-session",a),o.LS.setItem("mini-session",JSON.stringify(a)),o.LS.setItem("chat-locale",JSON.stringify(null===(t=a)||void 0===t||null===(r=t.user)||void 0===r?void 0:r.locale)),{session:a,params:{godToken:""}}}catch(t){yield(0,e.call)(Kt,t)}}function*Xt(){yield(0,e.takeLatest)(Ft,Jt),yield(0,e.takeLatest)(Vt,pr),yield(0,e.takeLatest)(Wt,Er)}const Zt={[Tt.LOGIN_SUCCEEDED]:_t(),[Tt.LOGOUT_SUCCEEDED]:e=>kt(kt({},e),{},{currentUserId:null,performance:{},closeHangupTips:!1,hasVideoPermission:!1,captchaVisible:!1,curTabFocused:!0})};var{updateIsMainPage:$t,updateCurTabFocused:er,updateCurTabFocusedSucceeded:tr}=(0,U.createActions)({[Tt.UPDATE_IS_MAIN_PAGE]:({isMainPage:e})=>({isMainPage:e}),[Tt.UPDATE_CUR_TAB_FOCUSED]:({focused:e})=>({focused:e}),[Tt.UPDATE_CUR_TAB_FOCUSED_SUCCEEDED]:({curTabFocused:e})=>({curTabFocused:e})});function*rr({payload:{focused:t}}){t&&(yield(0,e.call)(lt.tabFocused),yield(0,e.put)($t({isMainPage:!0}))),yield(0,e.put)(tr({curTabFocused:t}))}function*or(){yield(0,e.takeEvery)(er,rr)}const ar={[Tt.UPDATE_IS_MAIN_PAGE]:_t(),[Tt.UPDATE_CUR_TAB_FOCUSED_SUCCEEDED]:_t()};var{setServiceDownStatus:nr}=(0,U.createActions)({[Tt.SET_SERVICE_DOWN_STATUS]:e=>e});window.addExternalGlobal("setServiceDownStatus",nr);const sr={[Tt.SET_SERVICE_DOWN_STATUS]:Et("serviceDownStatus")};function cr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var{checkUserPermissionSucceeded:lr}=(0,U.createActions)({[Tt.CHECK_USER_PERMISSION_SUCCEEDED]:({hasVideoPermission:e,hasReplyPermission:t,hasDeletePermission:r,deleteConfigDuration:o,deleteConfigVersion:a,waitingTimeFilter:n,subaccountHasUnrepliedPermission:s,showCrrDue:c,hideFeedback:i,chatbotToggle:l,showChatbotLoadingTime:u,disappearChatbotLoadingTime:d,showChatServingFeature:S,sellerDriverWhitelist:_,amsFeatureToggle:E,hideBlockEntrance:p,showCsatSubmit:h,showRecallBanner:O,showSourceBanner:g,showTopBanner:T})=>({hasVideoPermission:e,hasReplyPermission:t,hasDeletePermission:r,deleteConfigDuration:o,deleteConfigVersion:a,waitingTimeFilter:n,subaccountHasUnrepliedPermission:s,showCrrDue:c,hideFeedback:i,chatbotToggle:l,showChatbotLoadingTime:u,disappearChatbotLoadingTime:d,showChatServingFeature:S,sellerDriverWhitelist:_,amsFeatureToggle:E,hideBlockEntrance:p,showCsatSubmit:h,showRecallBanner:O,showSourceBanner:g,showTopBanner:T})}),ur={hasVideoPermission:!1,hasReplyPermission:!1,hasDeletePermission:!1,deleteConfigDuration:0,deleteConfigVersion:0,waitingTimeFilter:!1,showCrrDue:!1,hideFeedback:!1,chatbotToggle:o.ChatbotToggle.Disable,showChatbotLoadingTime:0,disappearChatbotLoadingTime:0,hideBlockEntrance:!1,showSourceBanner:!1,showTopBanner:!1},dr=()=>{try{return o.LS.getItem("minichat-service-down")||!1}catch(e){return!1}};function*Sr(){var t=yield(0,e.select)(fe),{type:r,country:a}=t;try{var n,s,c,i=yield(0,e.call)(b.fetch,{subServer:"coreapi",parent:"user",resource:"global_config"}),{video:l,reply:u,waiting_time_filter:d,show_crr_due:S,delete_msg:_,support_subaccount_unreplied:E,hide_feedback:p,chatbot_toggle:h,show_chatbot_loading_time:O,disappear_chatbot_loading_time:g,show_chat_serving_feature:T,seller_driver_whitelist:v,ams_toggle_status:f,show_source_banner:A,show_top_banner:D,subaccount_guide_config:{show_popup:C=!1,popup_duration_sec:y=0,shop_bind_main_account:m=!1,show_dropdown_menu_entry:R=!1}={},show_recall_banner:P,hide_block_entrance:U,ab_test_info:{show_csat_submit:w}={}}=i||{},N=ir(ir({},ur),{},{hasVideoPermission:l,hasReplyPermission:u,waitingTimeFilter:d,showCrrDue:S,hideFeedback:p,chatbotToggle:h,showChatbotLoadingTime:O,disappearChatbotLoadingTime:g,showChatServingFeature:T,sellerDriverWhitelist:v,amsFeatureToggle:f,hideBlockEntrance:U,showCsatSubmit:w,showRecallBanner:P,showSourceBanner:A,showTopBanner:D});if(N.waitingTimeFilter=!1,N.chatbotToggle=o.ChatbotToggle.Disable,N.showChatServingFeature=!1,N.sellerDriverWhitelist=!1,N.amsFeatureToggle=!1,"seller"===r){var{config_version:I,region_config:j=[]}=_||{};N.deleteConfigVersion=I;var L=j.find((e=>e.region===a));L&&L.duration&&(N.hasDeletePermission=!0,N.deleteConfigDuration=L.duration)}else N.subaccountHasUnrepliedPermission=E;yield(0,e.put)(lr(ir({},N))),void 0!==i.br_site_close&&(yield(0,e.put)(nr({alert:(null==i||null===(n=i.br_site_close)||void 0===n?void 0:n.site_close)||!1,closed:dr()})),window.__SERVICEDOWN_STATT_TIME__=(null==i||null===(s=i.br_site_close)||void 0===s?void 0:s.start_time)||0,window.__SERVICEDOWN_END_TIME__=(null==i||null===(c=i.br_site_close)||void 0===c?void 0:c.end_time)||0)}catch(t){yield(0,e.put)(lr(ir({},ur)))}}const _r={[Tt.CHECK_USER_PERMISSION_SUCCEEDED]:_t()};var Er=function*(t=!0){t&&(yield(0,e.call)(lt.closeConnect)),yield(0,e.put)(Bt()),yield(0,e.put)(vo()),(0,o.removeItem)("mini-session"),(0,o.removeItem)("mini-sc_redirect")},pr=function*(){try{var t={server:(0,o.getSCApiServer)(),namespace:"",resource:"logout/",params:{SPC_CDS:Ht().get("SPC_CDS"),SPC_CDS_VER:2}};(0,o.isVisitingCNSC)()||(0,o.isVisitingKRSC)()?(t.version="cnsc",t.parent="selleraccount"):t.version="v1",yield(0,e.call)(b.fetch,t),document.location.replace("https://".concat((0,o.getSellerCenterUrl)(),"/account/signin")),window.removeEventListener("online",(()=>{jt.store.dispatch(Ct({networkStatus:"online"}))})),window.removeEventListener("offline",(()=>{jt.store.dispatch(Ct({networkStatus:"offline"}))})),(0,b.clearApiCache)(),yield(0,e.call)(Er)}catch(t){t.handler?(0,e.call)(t.handler):console.error("[Logout Failed] ",t)}};function hr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var gr=[Xt,or],Tr=(0,U.handleActions)(Or(Or(Or(Or(Or({},ar),_r),It),Zt),sr),{networkStatus:"online",currentUserId:null,currentUser:{},curTabFocused:!0,isMainPage:!0,subaccountHasUnrepliedPermission:!1,showAutoHangupModal:!1,hasVideoPermission:!1,hasReplyPermission:!1,shouldInitFSSDK:!1,hasDeletePermission:!1,deleteConfigVersion:0,deleteConfigDuration:0,waitingTimeFilter:!1,showCrrDue:!1,hideFeedback:!1,showChatbotLoadingTime:0,disappearChatbotLoadingTime:0,loginSuccess:!0,showChatWindow:!1,showConversationDetail:!0,showEntry:!1,hasFetchedUnread:!1,hasSidebarPanel:!1,serviceDownStatus:{alert:!1,closed:!1,list:!1,message:!1}}),vr=e=>(0,t.createSelector)(g,(t=>(0,Q.denormalize)(e,b.shopSchema,{shops:t}))),fr=e=>{var t;return(null==e||null===(t=e.shopReducer)||void 0===t?void 0:t.fetchedShopIds)||[]},Ar=e=>new Promise((t=>{(0,b.fetch)({parent:"conversation",resource:"unread-counts",params:{shop_ids:JSON.stringify(e)}}).then((({"unread-counts":e=[]})=>{t(e)})).catch((()=>{t([])}))}));function*Dr({payload:{shopId:t}}){try{var r=yield(0,e.select)(vr(t));r=yield(0,e.call)(b.fetch,{resource:"shop",id:t,params:{need_cache:1,cache_expires:600}});var{entities:o}=(0,b.normalize)("shops",r);return yield(0,e.put)(w({entities:o})),yield(0,e.put)((0,lt.updateFetchedShopIds)({shopIds:[r.id]})),r}catch(e){return{}}}var Cr=({shopIds:e})=>{var t={ids:JSON.stringify(e)};return new Promise((e=>{(0,b.fetch)({resource:"shop_list",params:t}).then((({shops:t=[]})=>{e(t)})).catch((()=>{e([])}))}))};function*yr({payload:{shopId:t}}){try{return yield(0,e.call)(b.fetch,{parent:"shop",parentId:t,resource:"auth"})}catch(e){return{}}}var br,mr=e=>e.toastReducer.toast,Rr=r(701).t,Pr=(e,t)=>{var r={};if(t){switch(t.type){case"auto-reply":e?t.first&&"enabled"===t.action?(r.message=Rr("settings.enable_auto_reply_successfully"),r.show=!0):(r.message="",r.show=!1):(t.first&&"enabled"===t.action?r.message=Rr("settings.failed_to_enable_auto_reply"):r.message="enabled"===t.action?Rr("settings.failed_to_enable"):Rr("settings.failed_to_disable"),r.show=!0);break;case"message":r.message=e?"save"===t.action?Rr("settings.message.save_successfully"):"delete"===t.action?Rr("settings.message.delete_successfully"):Rr("settings.message.import_successfully"):"save"===t.action?Rr("settings.message.failed_to_save"):"delete"===t.action?Rr("settings.message.failed_to_delete"):Rr("settings.message.failed_to_import"),r.show=!0;break;case"message-tips":e?(r.message="",r.show=!1):(r.message="enabled"===t.action?Rr("settings.failed_to_enable"):Rr("settings.failed_to_disable"),r.show=!0);break;case"forward":e||(r.message=403===t.status?Rr("forward.exception",{forwardName:""}):Rr("forward.server_error"),r.show=!0);break;case"send-feedback":r.message=Rr("feedback_modal.error.failed_to_send"),r.show=!0;break;case"server-error-tips":r.message=Rr("common.server_error.warning_tips"),r.show=!0;break;case"conversation-closed-tip":r.message=Rr("conversation_detail.closed.warning_tips"),r.show=!0;break;case"permission-denied":r.message=Rr("common.permission_denied"),r.show=!0;break;case"claim-voucher":r.message=Rr(e?"voucher.claim.success":"voucher.claim.fail"),r.show=!0;break;case"claim-voucher-not-satisfy":r.message=Rr("voucher.claim.fail_not_satisfy_rule"),r.show=!0;break;case"claim-voucher-already-claimed":r.message=Rr("voucher.claim.fail_already_claimed"),r.show=!0;break;case"claim-voucher-no-longer-valid":r.message="claim_voucher.error.no_longer_valid",r.show=!0;break;case"claim-voucher-failed":r.message="claim_voucher.error.failed",r.show=!0;break;case"private-image":r.message=Rr("common.image.expired"),r.show=!0;break;case"operation":"save"===t.action&&(r.message=Rr(e?"text.save_successfully":"text.save_failed")),r.show=!0;break;default:r.message=t.message,r.show=!0}r.type=e?"success":"fail"}return r};!function(e){e.COPY_SUCCEED_FEEDBACK="COPY_SUCCEED_FEEDBACK",e.SET_TOAST_INFORMATION="SET_TOAST_INFORMATION",e.SET_TOAST_INFORMATION_SUCCEEDED="SET_TOAST_INFORMATION_SUCCEEDED"}(br||(br={}));var{copySucceedFeedback:Ur,setToastInformation:wr,setToastInformationSucceeded:Nr}=(0,U.createActions)({[br.COPY_SUCCEED_FEEDBACK]:()=>({}),[br.SET_TOAST_INFORMATION]:({type:e,error:t,toast:r,extra:o})=>({type:e,error:t,toast:r,extra:o}),[br.SET_TOAST_INFORMATION_SUCCEEDED]:({toast:e})=>({toast:e})});function*Ir({payload:{type:t,error:r,toast:o,extra:a}}){if(yield(0,e.select)(He)){var n=null;t&&(n=Pr(!1,{type:t})),void 0!==r&&(n=r instanceof b.CustomError||r instanceof b.Webview?r.handler(null==a?void 0:a.toShopId):Pr(!1,{type:"server-error-tips"})),o&&(n=o),yield(0,e.put)(Nr({toast:n}))}}const jr={[br.SET_TOAST_INFORMATION_SUCCEEDED]:_t()};var Lr=r(701).t;function*Hr(){yield(0,e.put)(wr({toast:Pr(!0,{message:Lr("common.successful_copied")})}))}function Mr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}var kr,Fr=[function*(){yield(0,e.takeEvery)(wr,Ir)},function*(){yield(0,e.takeEvery)(Ur,Hr)}],Gr=(0,U.handleActions)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mr(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},jr),{toast:{type:"",message:"",show:!1}}),Vr=e=>e.messageShortcutGroupReducer||{groups:[],status:"",currentGroupType:-1,currentGroupId:-1},Br=(0,t.createSelector)(Vr,(e=>e.status)),Wr=(0,t.createSelector)(Vr,(e=>e.currentGroupType)),xr=(0,t.createSelector)(Vr,(e=>e.currentGroupId)),Qr=(0,t.createSelector)(Vr,(e=>e.groups)),qr=(0,t.createSelector)(Qr,(e=>e.filter((e=>e.group_type===o.MessageShortcutGroupType.PERSONAL)))),Kr=(0,t.createSelector)(Qr,(e=>e.filter((e=>e.group_type===o.MessageShortcutGroupType.TEAM)))),zr=(0,t.createSelector)(Qr,Wr,((e,t)=>-1===t?e:e.filter((e=>e.group_type===t)))),Yr=(0,t.createSelector)(qr,(e=>e.reduce(((e,t)=>{var{message_shortcuts:r=[]}=t;return e.concat(r)}),[]))),Jr=(0,t.createSelector)(Kr,(e=>e.reduce(((e,t)=>{var{message_shortcuts:r=[]}=t;return e.concat(r)}),[]))),Xr=(0,t.createSelector)(Yr,Jr,((e=[],t=[])=>[...e,...t])),Zr=(0,t.createSelector)(Xr,(e=>[...e.filter((e=>!(null==e||!e.pin_time))).sort(((e,t)=>e.pin_time-t.pin_time)),...e.filter((e=>!(null!=e&&e.pin_time)))])),$r=(0,t.createSelector)(Zr,Wr,xr,((e,t,r)=>{var o=-1===t?e:e.filter((e=>e.group_type===t));return-1===r?o:o.filter((e=>e.groupId===r))})),eo=e=>{var t;return(null==e||null===(t=e.settingsReducer)||void 0===t?void 0:t.settings)||{}},to=e=>{var t;return(null==e||null===(t=e.settingsReducer)||void 0===t?void 0:t.needForceUpdate)||!1},ro=e=>{var t;return(null==e||null===(t=e.settingsReducer)||void 0===t?void 0:t.status)||""},oo=e=>{var t;return(null==e||null===(t=e.settingsReducer)||void 0===t?void 0:t.fetchStatus)||""},ao=(0,t.createSelector)(eo,(e=>e.auto_translation_status||"")),no=(0,t.createSelector)(eo,(e=>e.message_shortcuts_status||"")),so=(0,t.createSelector)(eo,(e=>e.legacy_message_shortcuts_count||0)),co=(0,t.createSelector)(eo,(e=>e.distribution_account_status||"enabled")),io=(0,t.createSelector)(eo,(e=>e.display_banner||!1));function*lo(){try{yield(0,e.put)((0,lt.fetchSettingsStatus)({fetchStatus:o.DataFetchStatus.PENDING}));var t=yield(0,e.call)(b.fetch,{parent:"user",resource:"setting"});return yield(0,e.put)((0,lt.fetchSettingsSucceeded)({settings:t,fetchStatus:o.DataFetchStatus.SUCCEED,timestamp:Date.now(),needForceUpdate:!1})),t}catch(t){return yield(0,e.put)((0,lt.fetchSettingsStatus)({fetchStatus:o.DataFetchStatus.FAILED})),{}}}!function(e){e.HANDLE_401_ERROR_REQUESTED="HANDLE_401_ERROR_REQUESTED",e.UPDATE_CONVERSATION_LISTS_HASH="UPDATE_CONVERSATION_LISTS_HASH",e.OPEN_MALL_URL="OPEN_MALL_URL"}(kr||(kr={}));var{openMallUrl:uo}=(0,U.createActions)({[kr.OPEN_MALL_URL]:({path:e,region:t})=>({path:e,region:t})}),So="xiapibuy.com";function*_o({payload:{path:t="",region:r=""}}){var a,n=r?r.toLowerCase():(0,o.getRuntimeRegion)();"cn"!==n&&"kr"!==n||(n="my");var s=t?t.startsWith("/")?t:"/".concat(t):"";if((0,o.isVisitingCn)())try{var{data:c}=yield(0,e.call)(b.fetch,{url:"https://".concat((0,o.getSCApiServer)(),"/selleraccount/nonce/get/")}),i="".concat((0,o.cnDomainHash)(n),".").concat((0,o.envPrefix)()).concat(So),l=encodeURIComponent(window.btoa('{"next":"https://'.concat(i).concat(s,'"}')));s="/api/seller_platform/nonce/callback/?nonce=".concat(c.nonce,"&region=").concat(n,"&state=").concat(l),a="https://".concat(i).concat(s)}catch(e){a="https://".concat((0,o.cnDomainHash)(n),".").concat((0,o.envPrefix)()).concat(So).concat(s)}else a="https://".concat((0,o.domainPrefix)(),".").concat((0,o.domainSuffix)(n)).concat(s);window.open(a)}var{handle401ErrorRequested:Eo}=(0,U.createActions)({[kr.HANDLE_401_ERROR_REQUESTED]:({resource:e})=>({resource:e})}),{updateConversationListsHash:po}=(0,U.createActions)({[kr.UPDATE_CONVERSATION_LISTS_HASH]:()=>({})}),ho=[function*(){yield(0,e.takeEvery)(uo,_o)}],Oo=(0,t.createSelector)(n,(e=>e.offers||{})),go=(e,r,a,n)=>(0,t.createSelector)(Oo,(t=>Object.values(t).filter((t=>t.product_id===n&&t.model_id===r&&t.conversation_id===e&&t.id!==a&&t.status===o.OfferStatus.PENDING)))),To=e=>(0,t.createSelector)(n,(t=>(0,Q.denormalize)(e,b.offerSchema,t))),{reduxReset:vo}=(0,U.createActions)({REDUX_RESET:()=>({})});window.addExternalGlobal("resetAction",vo);var fo=e=>{var t;return(null===(t=e.draftReducer)||void 0===t?void 0:t.draftHash)||{}},Ao=e=>(0,t.createSelector)(fo,(t=>t[e]||"")),Do=e=>{var t;return(null==e||null===(t=e.translatePreferenceReducer)||void 0===t?void 0:t.translationSettings)||{}},Co=e=>{var t;return(null==e||null===(t=e.translatePreferenceReducer)||void 0===t?void 0:t.fetchSettingsStatus)||""},yo=e=>{var t;return(null==e||null===(t=e.translatePreferenceReducer)||void 0===t?void 0:t.updateStatus)||""};function bo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function mo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bo(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function*Ro(t,r,o,a=[]){var n=t,s=[],c=[];Array.isArray(t)&&(n=((0,b.normalize)(o,t).entities||{})[o]||{}),r.forEach((t=>{var r=t.id,i=n[r];i?["conversations","agentConversations"].includes(o)&&(void 0!==i.faking||i.latestMessageStatus||void 0!==i.unreplied)?(delete(t=mo(mo({},i),t)).faking,delete t.latestMessageStatus,delete t.unreplied,c.push(t)):(a.length&&a.forEach((e=>{t[e]=i[e]})),s.push((0,e.put)(N({name:o,id:r,record:mo({},t)})))):c.push(t)})),c.length&&s.push((0,e.put)(w({entities:(0,b.normalize)(o,c).entities}))),yield(0,e.all)(s)}var Po,Uo=e=>(0,t.createSelector)(E,(t=>(0,Q.denormalize)(e,[b.productSchema],{products:t}))),wo=e=>e.reportReducer.beingReported;!function(e){e.REPORT_REQUESTED="REPORT_REQUESTED",e.CLEAR_REPORT_REQUESTED="CLEAR_REPORT_REQUESTED"}(Po||(Po={}));var{reportRequested:No,clearReportRequested:Io}=(0,U.createActions)({[Po.REPORT_REQUESTED]:({event_time:e,url:t})=>({event_time:e,url:t}),[Po.CLEAR_REPORT_REQUESTED]:()=>({})});function jo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Lo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function*Ho(){var t=yield(0,e.select)(wo);if(t.length){var r=[...t];yield(0,e.put)(Io()),r.sort(((e,t)=>Number(t.event_time)-Number(e.event_time))),yield(0,e.call)(b.fetch,{method:"POST",subServer:"coreapi",parent:"user",resource:"report_active",payload:JSON.stringify(Lo(Lo({},r[0]),{},{platform_id:(0,o.isVisitingCNSC)()||(0,o.isVisitingKRSC)()?2:1}))})}}const Mo={[Po.REPORT_REQUESTED]:(e,{payload:{event_time:t,url:r}})=>({beingReported:[...e.beingReported,{event_time:t,url:r}]}),[Po.CLEAR_REPORT_REQUESTED]:e=>({beingReported:[]})};function ko(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}var Fo,Go=[function*(){for(;;)yield(0,e.delay)(6e4),yield Ho()}],Vo=(0,U.handleActions)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ko(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ko(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Mo),{beingReported:[]});function Bo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Wo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bo(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e.ADD_NEED_CAPTCHA_REQUEST="ADD_NEED_CAPTCHA_REQUEST",e.DELETE_CAPTCHA_REQUEST="DELETE_CAPTCHA_REQUEST",e.CLEAR_NEED_CAPTCHA_REQUEST="CLEAR_NEED_CAPTCHA_REQUEST",e.RESEND_NEED_CAPTCHA_REQUEST="RESEND_NEED_CAPTCHA_REQUEST"}(Fo||(Fo={}));const xo={[Fo.ADD_NEED_CAPTCHA_REQUEST]:(e,{payload:{request:t}})=>{var r=[...e.verifyRequests];return r.push(t),Wo(Wo({},e),{},{verifyRequests:r})},[Fo.DELETE_CAPTCHA_REQUEST]:e=>{var t=[...e.verifyRequests];return t.pop(),Wo(Wo({},e),{},{verifyRequests:t})},[Fo.CLEAR_NEED_CAPTCHA_REQUEST]:e=>Wo(Wo({},e),{},{verifyRequests:[]})};var{addNeedCaptchaRequest:Qo,deleteCaptchaRequest:qo,clearNeedCaptchaRequest:Ko,resendNeedCaptchaRequest:zo}=(0,U.createActions)({[Fo.ADD_NEED_CAPTCHA_REQUEST]:({request:e})=>({request:e}),[Fo.DELETE_CAPTCHA_REQUEST]:()=>({}),[Fo.CLEAR_NEED_CAPTCHA_REQUEST]:()=>({}),[Fo.RESEND_NEED_CAPTCHA_REQUEST]:()=>({})});function*Yo(){try{var t=yield(0,e.select)($o);if(t.length)for(var r of(yield(0,e.put)(Ko()),t)){var{id:o,extra:a}=r;switch(o){case"unread-count":yield(0,e.spawn)(lt.doRefreshTotalUnreadConversationsCount,a);break;case"unread-count-single":yield(0,e.spawn)(doRefreshSingleShopUnreadConversationCount,a);break;case"send-message":yield(0,e.put)((0,lt.resendMessageRequested)(a));break;case"orders_by_buyer":case"purchased_list":yield(0,e.put)((0,lt.fetchOrdersRequested)(a));break;case"item-list-my-shop":case"item-list-other-shop":yield(0,e.put)((0,lt.fetchProductsRequested)(a));break;case"fill-handler":yield(0,e.call)(lt.fillActionHandler,a)}}}catch(e){}}function Jo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}var Xo=(0,U.handleActions)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jo(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},xo),{verifyRequests:[]}),Zo=[function*(){yield(0,e.takeEvery)(zo,Yo)}],$o=e=>e.captchaVerifyReducer.verifyRequests;function*ea(t,r,o){yield(0,e.takeEvery)(t,(function*(t){var a=t.payload.id;a?yield(0,e.race)({task:(0,e.call)(r,t),cancel:(0,e.take)((e=>e.type===o.toString()&&e.payload.id===a))}):yield(0,e.call)(r,t)}))}})(),_})())},53402:function(e,t,r){"use strict";e.exports=r(25061)}}]);