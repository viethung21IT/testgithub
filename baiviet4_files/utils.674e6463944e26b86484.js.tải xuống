(self.miniJsonp=self.miniJsonp||[]).push([[1493],{96296:function(e,t,n){var r,o,i,a;e.exports=(r=n(58518),o=n(14906),i=n(36808),a=n(69483),function(){"use strict";var e={95:function(e,t,n){n.d(t,{D:function(){return u},t:function(){return _}});var r=n(661),o=n.n(r),i=n(480),a=!1,c=function(e,t){a=!0;var n=t||(0,i.CE)();o().init({lng:n,fallbackLng:n,defaultNS:"common",keySeparator:!1,debug:!1,resources:e&&e.resources||{},interpolation:{prefix:"{",suffix:"}",escapeValue:!1},react:{wait:!1,bindI18n:"languageChanged loaded",bindStore:"added removed",nsMode:"default"}})},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common";a||c({resources:{}},e),o().changeLanguage(e),o().addResourceBundle(e,n,t,!0,!0)},_=o().t.bind(o())},480:function(e,t,n){n.d(t,{$S:function(){return C},CE:function(){return x},E3:function(){return M},H9:function(){return E},IE:function(){return L},JS:function(){return T},Jy:function(){return N},L6:function(){return Y},NJ:function(){return A},S1:function(){return u},Tb:function(){return h},Vm:function(){return I},X7:function(){return w},Y8:function(){return v},YH:function(){return b},Yc:function(){return f},dV:function(){return D},ef:function(){return d},jq:function(){return m},jz:function(){return F},pM:function(){return S},qk:function(){return R},u7:function(){return P},xC:function(){return G},z$:function(){return p}});var r,o,i,a,c={sg:"en",ph:"en",tw:"zh-Hant",my:"ms-MY",th:"th-TH",vn:"vi-VN",id:"id-ID",br:"pt-BR",in:"hi",cn:"zh-CN",mx:"es-MX",co:"es-CO",cl:"es-CL",ar:"es-AR",pl:"pl",es:"es-ES",fr:"fr",us:"en",kr:"en"},u=function(e,t,n){r=e.toLowerCase(),o="liveish"===t?"live-test":"stable"===t?"test-stable":t,i=n,a=c[r]||"en"},_=["my","br","mx","co","ar"],s=["id","th"],l=["us"],f=function(e){return _.includes(e)?"com.".concat(e):s.includes(e)?"co.".concat(e):l.includes(e)?"com":e},E=function(e){return"tw"===e?"xiapi":e.toLowerCase()},T=function(e){return f(e)},d=function(){return"live"===o?"":"".concat(o,".")},S=function(){return"live"===o?"shopee":"".concat(o,".shopee")},p=function(){return"cn"===r},v=function(){return"kr"===r};function O(){return A()&&!p()}function A(){var e=window.location.hostname;return e&&e.includes("cn")}var g=function(e,t){return"seller"===e?"vn"!==t||O()?"seller":"banhang":e},m=function(e,t){var n,i=t?t.toLowerCase():r;return O()?function(e,t){var n=t?t.toLowerCase():r;return"".concat(g(e,n),".").concat(E(n),".").concat(S(),".").concat("cn")}(e,i):"".concat(g(e,i),".").concat((n=window.location.hostname,n&&n.includes("shopeebrasil")?"live"===o?"shopeebrasil":"".concat(o,".shopeebrasil"):S()),".").concat(T(i))},R=function(e){return m("seller",e)},C=function(e){var t=e?e.toLowerCase():r;return"seller-service.cs.".concat(S(),".").concat(T(t))},I=function(){return"".concat(R(),"/webchat/api")},M=function(){return"".concat(R(),"/api")},P=function(e){var t=e?e.toLowerCase():r;return"cn"!==t&&"kr"!==t||(t="my"),A()?"".concat(E(t),".").concat(d()).concat("xiapibuy.com"):"".concat(S(),".").concat(T(t))},h=function(){var e=r;return"cn"!==e&&"kr"!==e||(e="my"),"".concat(S(),".").concat(T(e))},y=["sg","my","th","ph","vn","id","tw","br"],N=function(e){var t=e?e.toLowerCase():r;if(p())return"https://s-cf-sg.shopeesz.com/file/";if(v())return"https://cf.shopee.sg/file/";var n=y.includes(t);return O()&&n?"https://s-cf-".concat(t,".shopeesz.com/file/"):"https://cf.shopee.".concat(f(t),"/file/")},D=function(e){var t=e?e.toLowerCase():r;return"tw"===t&&A()?"https://cvf.shopee.cn/file/":"https://cvf.shopee.".concat(f(t),"/file/")},G=function(){return"https://".concat(m("seller"),"/webchat/conversations")},b=function(){return"https://".concat(m("seller"),"/webchat")},L=function(){return o},w=function(){return r},Y=function(){return i},x=function(){return a},F=function(){return A()?"https://deo.shopeesz.com/shopee/":"https://deo.shopeemobile.com/shopee/"}},602:function(e){e.exports=o},661:function(e){e.exports=r},598:function(e){e.exports=i},349:function(e){e.exports=a}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var c={};return function(){n.r(c),n.d(c,{AccountType:function(){return _e},ActionType:function(){return g},AffiliateTypeEnum:function(){return W},AlertType:function(){return Te},BannerTypeEnum:function(){return q},ChatWithTypeEnum:function(){return w},ChatWithTypeMap:function(){return Q},ChatbotFromType:function(){return se},ChatbotPauseEntranceTypes:function(){return A},ChatbotServeToggle:function(){return te},ChatbotToggle:function(){return le},ConversationListTab:function(){return j},ConversationSource:function(){return ie},ConversationTypeEnum:function(){return L},CustomShareEvent:function(){return me},DataFetchStatus:function(){return x},LS:function(){return Mt},LogisticsCardLabel:function(){return f},LogisticsEntranceTypes:function(){return p},LogisticsMessageTypes:function(){return Vn},MAX_MEDIA_NUM:function(){return a},MAX_Z_INDEX:function(){return Ce},MINI_MIN_TEXT_BOX_HEIGHT:function(){return T},MediaIconTypeEnum:function(){return oe},MessageErrorCode:function(){return i},MessageLabelType:function(){return d},MessageOption:function(){return e},MessageSendStatus:function(){return o},MessageShortcutGroupType:function(){return u},MessageSource:function(){return ae},MessageTypes:function(){return r},OfferStatus:function(){return k},OperationStatus:function(){return F},OrderDeliveryStatus:function(){return E},OrderDeliveryStatusKeyMap:function(){return S},QueueStatusEntranceType:function(){return O},RREntranceType:function(){return v},ReturnCardStatus:function(){return _},ReturnSolution:function(){return s},SellerUnreadStatus:function(){return ee},ServeTodayFolders:function(){return Z},ServeTodayTab:function(){return $},ShareDataType:function(){return Re},SlaType:function(){return l},SocketConnectionStatus:function(){return B},SocketToAlertType:function(){return de},StartChatErrorCode:function(){return Ee},StorageKey:function(){return ge},SubAccountRole:function(){return ue},SwitchStatus:function(){return U},TrackerOperation:function(){return fe},TranslationStatus:function(){return H},UnreadSource:function(){return ce},capitalizeFirstLetter:function(){return _t},changeLanguage:function(){return Sr.D},chatbotLabelText:function(){return P},checkAIBannerGuide:function(){return mt},checkEmptyObject:function(){return Ie},checkMiniUnrepliedGuide:function(){return Rt},checkSpecialShops:function(){return xt},cnDomainHash:function(){return ot.H9},compareSameDayOfTimestamp:function(){return Be},countUnreadMessage:function(){return ir},customizeTime:function(){return Fe},debounce:function(){return St},defaultLocalInMall:function(){return Oe},detectTextAndTimestamp:function(){return Tr},domainHash:function(){return ot.Yc},domainPrefix:function(){return ot.pM},domainSuffix:function(){return ot.JS},envPrefix:function(){return ot.ef},escapeRegex:function(){return cr},fillMessagePreview:function(){return er},formatHourTime:function(){return Qe},formatMessageTime:function(){return ke},formatTransifyKeyWithNumber:function(){return et},getApiServer:function(){return ot.Vm},getCDNUrl:function(){return ot.jz},getChatBotParams:function(){return zn},getCrmPreviewParams:function(){return Jn},getCurrentTimestampString:function(){return ur},getCustomMessageText:function(){return Fn},getCustomPreviewParams:function(){return $n},getFileServer:function(){return ot.Jy},getFormattedTime:function(){return He},getHasSameSourceAndTarget:function(){return Xn},getItem:function(){return Pt},getLocaleText:function(){return Kn},getLogisticsCardTitle:function(){return nr},getLogisticsIssueCardTitle:function(){return rr},getMallTranslationLocale:function(){return dt},getMallUrl:function(){return ot.u7},getMallUrlIgnoreCn:function(){return ot.Tb},getMessageIsSend:function(){return ar},getProjectUrl:function(){return ot.jq},getRRMessageTitle:function(){return tr},getRowHeight:function(){return J},getRuntimeLocale:function(){return ot.CE},getRuntimeRegion:function(){return ot.X7},getRuntimeServer:function(){return ot.IE},getRuntimeVersion:function(){return ot.L6},getSCApiServer:function(){return ot.E3},getSellerCenterUrl:function(){return ot.qk},getSellerServiceUrl:function(){return ot.$S},getServiceLocale:function(){return Tt},getSystemMessageByLocale:function(){return Zn},getTranslatedText:function(){return dr},getTranslationLocale:function(){return ft},getUrlParam:function(){return tt},getVideoServer:function(){return ot.dV},getWebChatPureUrl:function(){return ot.YH},getWebChatUrl:function(){return ot.xC},greaterThan:function(){return Pe},handleDisplayTranslation:function(){return _r},hasTargetMessageOption:function(){return jn},init:function(){return ot.S1},isConversationRead:function(){return re},isConversationUnread:function(){return ne},isDeletedMessage:function(){return qn},isFromChatbotSession:function(){return or},isMessageLabelType:function(){return M},isValidBrowser:function(){return he},isVisitingCNSC:function(){return ot.z$},isVisitingCn:function(){return ot.NJ},isVisitingKRSC:function(){return ot.Y8},localeInMallToTspLocale:function(){return Ae},newFormatMessageTime:function(){return We},persistLimit:function(){return Nt},previewMessage:function(){return Qn},removeItem:function(){return yt},setItem:function(){return ht},showAIAssistantLabel:function(){return m},showChatbotLabel:function(){return C},showReviewLabel:function(){return R},showTcsLink:function(){return I},simpleEqualCheck:function(){return Me},throttle:function(){return pt},unifyLocale:function(){return lt},updateTimeLocale:function(){return be}});var e,t=n(95).t,r={MSG_TYPE_TEXT:"text",MSG_TYPE_IMAGE:"image",MSG_TYPE_OFFER:"offer",MSG_TYPE_PRODUCT:"product",MSG_TYPE_ORDER:"order",MSG_TYPE_STICKER:"sticker",MSG_TYPE_NOTIFICATION:"notification",MSG_TYPE_VOUCHER:"voucher",MSG_TYPE_ITEM_LIST:"item_list",MSG_TYPE_SHOPPING_CART:"shopping_cart",MSG_TYPE_FAQ:"faq",MSG_TYPE_FAQ_QUESTION:"faq_question",MSG_TYPE_FAQ_FEEDBACK:"faq_feedback",MSG_TYPE_FAQ_LIVEAGENT:"faq_liveagent",MSG_TYPE_FAQ_UNSUPPORTED:"faq_unsupported",MSG_TYPE_FAQ_FEEDBACK_PROMPT:"faq_feedback_prompt",MSG_TYPE_FAQ_LIVEAGENT_PROMPT:"faq_liveagent_prompt",MSG_TYPE_UNTATED_ORDER_REMINDER:"unrated_order_reminder",MSG_TYPE_FLASH_SALE:"flash_sale",MSG_TYPE_BUNDLE_DEAL:"bundle_deal",MSG_TYPE_BUNDLE_MESSAGE:"bundle_message",MSG_TYPE_OPTION_PACK:"option_pack",MSG_TYPE_SELECTED_OPTION:"selected_option",MSG_TYPE_ADD_ON_DEAL:"add_on_deal",MSG_TYPE_VIDEO:"video",MSG_TYPE_IMAGE_WITH_TEXT:"image_with_text",MSG_TYPE_RATE_CARD:"rating_card",MSG_TYPE_NEW_FAQ:"new_faq",MSG_TYPE_FAQ_CATEGORY_CHOICE:"faq_category_choice",MSG_TYPE_FAQ_QUESTION_LIST:"faq_question_list",MSG_TYPE_FAQ_TYPE_CHOICE:"faq_type_choice",MSG_TYPE_FAQ_CATEGORY_LIST:"faq_category_list",MSG_TYPE_FAQ_TYPE_BOT_REQUEST_TEXT_MESSAGE:"faq_bot_request_text",MSG_TYPE_FAQ_TYPE_BOT_REQUEST_ORDER_MESSAGE:"faq_bot_request_order",FAQ_TYPE_BOT_RESPONSE_MESSAGE:"faq_bot_response",MSG_TYPE_SECURITY_TIPS:"security_tips",MSG_TYPE_CRM_ITEM_LIST:"crm_item_list",MSG_TYPE_RR:"return_refund_card",MSG_TYPE_CRM_ORDER_RATE:"crm_order_rate",MSG_TYPE_LOGISTICS_CARD:"logistics_card",MSG_TYPE_LOGISTICS_ISSUE_ENQUIRY_CARD:"logistics_issue_enquiry_card",MSG_TYPE_EXPEDITED_LOGISTICS_CARD:"expedited_logistics_card",MSG_TYPE_LATE_DELIVERY_COMPENSATION_VOUCHER:"late_delivery_compensation_voucher",MSG_TYPE_LOADING:"loading",MSG_TYPE_CUSTOMER_SERVICE_ENTRANCE:"customer_service_entrance",MSG_TYPE_FAQ_BOT_REVIEW_SUMMARY_CARD:"faq_bot_review_summary_card",MSG_TYPE_FAQ_BOT_GALLERY_CARD:"faq_bot_buyer_gallery_card",MSG_TYPE_RESTOCK_REMINDER_CARD:"bot_restock_reminder_card",MSG_TYPE_OUT_STOCK_CARD:"bot_out_stock_card",MSG_TYPE_FAQ_BOT_TIMELINE_CARD:"faq_bot_timeline_card",MSG_TYPE_BOT_BARGAIN_CARD:"faq_bot_price_history_card",MSG_TYPE_FAQ_BOT_AUTHENTIC_CARD:"faq_bot_authentic_card",MSG_TYPE_FAQ_TYPE_BOT_CONTACT_COURIER_CARD:"faq_bot_contact_courier_card"},o={SENDING:1,FAILED:2,SUCCEED:3},i={FORBIDDEN:28,LIMITING:29,CUSTOM_ERROR:42,BLACKLIST:43,CANCEL_ORDER:44,UNVERIFIED_PHONE_NUMBER:45,EXCEED_DAILY_LIMIT:26,UNTRUSTED_NETWORK:46,NEED_CAPTCHA:47,DFP_ERROR:48,SPAMMER:49,FAQ_EXPIRED:50,FAQ_SESSION_OLD:51,NEED_CAPTCHA_VERIFY:52,FROM_USER_FROZEN:53,TO_USER_FROZEN:54,FAQ_PAUSED:55,DEFAULT:-1},a=9,u={ALL:-1,PERSONAL:1,TEAM:2};!function(e){e[e.MSG_OPT_NORMAL=0]="MSG_OPT_NORMAL",e[e.MSG_OPT_AUTO_REPLY=1]="MSG_OPT_AUTO_REPLY",e[e.MSG_OPT_BLOCKED=2]="MSG_OPT_BLOCKED",e[e.MSG_OPT_CENSORED_BLACKLIST=16]="MSG_OPT_CENSORED_BLACKLIST",e[e.MSG_OPT_CENSORED_WHITELIST=32]="MSG_OPT_CENSORED_WHITELIST",e[e.MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER=64]="MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER",e[e.MSG_OPT_IGNORE_UNREAD_FOR_SENDER=128]="MSG_OPT_IGNORE_UNREAD_FOR_SENDER",e[e.MSG_OPT_INVISIBLE_FOR_RECEIVER=256]="MSG_OPT_INVISIBLE_FOR_RECEIVER",e[e.MSG_OPT_INVISIBLE_FOR_SENDER=512]="MSG_OPT_INVISIBLE_FOR_SENDER",e[e.MSG_OPT_ADS=1024]="MSG_OPT_ADS",e[e.MSG_OPT_FAQ_SESSION=2048]="MSG_OPT_FAQ_SESSION",e[e.MSG_OPT_TRIGGER_FAQ=4096]="MSG_OPT_TRIGGER_FAQ",e[e.MSG_OPT_SOCIAL_MESSAGE=8192]="MSG_OPT_SOCIAL_MESSAGE",e[e.MSG_OPT_OFFWORK_AUTOREPLY=16384]="MSG_OPT_OFFWORK_AUTOREPLY",e[e.MSG_OPT_CANCELORDER_WARNING_SENT=32768]="MSG_OPT_CANCELORDER_WARNING_SENT",e[e.MSG_OPT_CANCELORDER_WARNING_RETRACT=65536]="MSG_OPT_CANCELORDER_WARNING_RETRACT",e[e.MSG_OPT_CANCELORDER_WARNING_NOT_SEND=66496]="MSG_OPT_CANCELORDER_WARNING_NOT_SEND",e[e.MSG_OPT_CHATBOT_SESSION=131072]="MSG_OPT_CHATBOT_SESSION",e[e.MSG_OPT_TRIGGER_CHATBOT=262144]="MSG_OPT_TRIGGER_CHATBOT",e[e.MSG_OPT_PRIVATE_MESSAGE=524288]="MSG_OPT_PRIVATE_MESSAGE",e[e.MSG_OPT_SILENT_FOR_SENDER=1048576]="MSG_OPT_SILENT_FOR_SENDER",e[e.MSG_OPT_DELETE=2097152]="MSG_OPT_DELETE",e[e.MSG_OPT_RECALL=8388608]="MSG_OPT_RECALL"}(e||(e={}));var _,s,l,f,E,T=88;!function(e){e[e.Submit=1]="Submit",e[e.Refund=2]="Refund",e[e.Reject=3]="Reject"}(_||(_={})),function(e){e[e.ReturnAndRefund=0]="ReturnAndRefund",e[e.Return=1]="Return"}(s||(s={})),function(e){e[e.day=1]="day",e[e.hour=2]="hour"}(l||(l={})),function(e){e[e.Inquiry=1]="Inquiry",e[e.Expedite=2]="Expedite"}(f||(f={})),function(e){e[e.Normal=0]="Normal",e[e.Stuck=1]="Stuck",e[e.AfterEstimated=2]="AfterEstimated",e[e.AfterGuarantee=3]="AfterGuarantee"}(E||(E={}));var d,S={Normal:"normal",Stuck:"stuck",AfterEstimated:"exceed",AfterGuarantee:"latest"},p=["inquiry_logistics_switch_order","expedite_delivery_switch_order","inquiry_logistics","expedite_delivery"],v="rr_entrance",O="choice_queue_status",A=["noti_type_seller_send_message_in_chatbot","noti_type_seller_pause_chatbot"];!function(e){e[e.AUTO_REPLY=1]="AUTO_REPLY",e[e.OFFWORK_AUTO_REPLY=2]="OFFWORK_AUTO_REPLY",e[e.CHAT_ASSISTANT=3]="CHAT_ASSISTANT",e[e.CHAT_ASSITANT_WITH_TCS=4]="CHAT_ASSITANT_WITH_TCS",e[e.CHAT_ASSISTANT_WITH_REVIEW=5]="CHAT_ASSISTANT_WITH_REVIEW",e[e.CHAT_ASSISTANT_WITH_REVIEW_AND_TCS=6]="CHAT_ASSISTANT_WITH_REVIEW_AND_TCS"}(d||(d={}));var g,m=function(e){return[d.CHAT_ASSISTANT,d.CHAT_ASSITANT_WITH_TCS].includes(e)},R=function(e){return[d.CHAT_ASSISTANT_WITH_REVIEW,d.CHAT_ASSISTANT_WITH_REVIEW_AND_TCS].includes(e)},C=function(e){return m(e)||R(e)},I=function(e){return[d.CHAT_ASSITANT_WITH_TCS,d.CHAT_ASSISTANT_WITH_REVIEW_AND_TCS].includes(e)},M=function(e){return Object.values(d).includes(e)},P=function(e){return m(e)?t("message.label_type.ai_assistant"):R(e)?t("message.label_type.support_review"):""};function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function y(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}function N(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.Call="call",e.Email="email",e.WhatsApp="whatsapp",e.Line="line",e.Facebook="facebook",e.Dots="3dots"}(g||(g={}));var b,L,w,Y={NORMAL:"normal",PENDING:"pending",SUCCEED:"succeed",FAILED:"failed"},x=G(G({},Y),{},{INIT_PENDING:"pendingInit",INIT_FAILED:"failedInit",TEMPORY_ERROR:"temporyError"}),F=G(G({},Y),{},{BLACKLIST_ERROR:"blacklistError",INTERNAL_SERVER_ERROR:"internalServerError"}),U={ENABLED:"enabled",DISABLED:"disabled",NO_PERSSION:"no_permission"},H={SUCCEED:"succeed",FAILED:"failed",HISTORY:"history",SHOW:"show",PENDING:"pending"},k={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected",CANCELLED:"cancelled"},B={CONNECT:"connect",CONNECT_ERROR:"connect_error",DISCONNECT:"disconnect",RECONNECT_ATTEMPT:"reconnect_attempt",RECONNECT_ERROR:"reconnect_error",RECONNECTING:"reconnecting",RECONNECT:"reconnect"},V={conversationCellForBCSubAccount:84,conversationCellForBCSubAccountTH:94,conversationCell:62,conversationCellTH:70,shopCardCell:212,shopListCell:72,voucherCell:146,conversationShopListCell:60,dropdownShopListCell:44,contactCell:48};!function(e){e[e.Normal=0]="Normal",e[e.Agent=1]="Agent"}(L||(L={})),function(e){e.Buyer="buyer",e.Driver="driver",e.Affiliate="affiliate"}(w||(w={}));var W,Q=(N(b={},w.Buyer,0),N(b,w.Driver,9),N(b,w.Affiliate,11),b),j={TODAY:"today",ALL:"all"};!function(e){e[e.KOL=1]="KOL",e[e.MCN=2]="MCN"}(W||(W={}));var q,K=V,X=K.conversationCellForBCSubAccount,z=K.conversationCell,J=function(e){return e?X:z},$={PINNED:"pinned",UNREPLIED:"unreplied",AUTOREPLY:"auto_replied",MANUALREPLY:"manually_replied"},Z=[$.PINNED,$.UNREPLIED,$.AUTOREPLY,$.MANUALREPLY],ee={SHOW:1,HIDE:2},te={PAUSE:"paused",RESUME:"show_resume",SHOWPAUSE:"show_paused"},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.unread_count,n=void 0===t?0:t,r=e.seller_unread_status;return"number"==typeof n&&n>0||r===ee.SHOW},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===e.unread_count&&e.seller_unread_status!==ee.SHOW};!function(e){e[e.GET=0]="GET",e[e.UPDATE_PRODUCT=1]="UPDATE_PRODUCT",e[e.UPDATE_ORDER=2]="UPDATE_ORDER"}(q||(q={}));var oe,ie={SYNC:4,SELECTOR:13},ae={SEND:7},ce={PRELOAD:1},ue={MAIN_SUBACCOUNT:"main_subaccount",ADMIN_SUBACCOUNT:"admin_subaccount",NORMAL_SUBACCOUNT:"normal_subaccount"},_e={SELLER:"seller",SUBACCOUNT:"subaccount"};!function(e){e[e.YOUTUBE=1]="YOUTUBE",e[e.INSTAGRAM=2]="INSTAGRAM",e[e.TIKTOK=3]="TIKTOK",e[e.FACEBOOK=6]="FACEBOOK",e[e.TWITTER=7]="TWITTER",e[e.LEMON=9]="LEMON",e[e.SHOPEE_LIVESTREAMING=101]="SHOPEE_LIVESTREAMING",e[e.SHOPEE_VIDEO=102]="SHOPEE_VIDEO",e[e.OTHER=401]="OTHER"}(oe||(oe={}));var se,le,fe={CLICK:"click",IMPRESSION:"impression",ACTION_DRAG_VIDEO:"action_drag_video",DELETE_PREVIEW_MEDIA:"delete_preview_media",CLOSE_PREVIEW_MEDIA:"close_preview_media",VIEW:"view",ACTION_SELECT:"action_select",ACTION_SEARCH:"action_search",ACTION_HOVER:"action_hover",ACTION_TOGGLE_ON_SUCCESS:"action_toggle_on_success",ACTION_TOGGLE_OFF_SUCCESS:"action_toggle_off_success"};!function(e){e.LandingPage="SIPDirectChatFromChatLandingPage",e.ProductPage="SIPProductPage",e.OrderPage="SIPOrderPageFromBuyer",e.ShopPage="SIPShopPage"}(se||(se={})),function(e){e[e.Disable=0]="Disable",e[e.AutoToggle=1]="AutoToggle",e[e.Opt=2]="Opt"}(le||(le={}));var Ee,Te={error:"error",success:"success",normal:"normal",warn:"warn",info:"info"},de={pending:Te.warn,error:Te.error,resolved:Te.success};!function(e){e[e.Login=0]="Login",e[e.Redirection=1]="Redirection",e[e.Messages=2]="Messages",e[e.Conversations=3]="Conversations"}(Ee||(Ee={}));var Se,pe,ve,Oe={sg:"en",ph:"en",tw:"zhHant",id:"id",th:"th",vn:"vi",my:"en",br:"pt-BR",mx:"es-MX",cl:"es-CL",pl:"pl",co:"es-CO"},Ae={en:"en",zhHans:"zh-Hans","ms-my":"ms-MY",zhHant:"zh-Hant",id:"id",th:"th",vi:"vi","pt-BR":"pt-BR","es-MX":"es-MX","es-CL":"es-CL","es-CO":"es-CO","es-AR":"es-AR",pl:"pl",fr:"fr","es-ES":"es-ES",fil:"fil"},ge={USERID:"__chat_userid__",LAST_ACTIVE:"last-active-time",MINI_ALERT:"mini-should-show-alert",MINI_TEXT_BOX_HEIGHT:"mini-text-box-height"},me={ACK:"ack",TAB_FOCUSED:"tabFocused",CALC_CONNECTIONS:"calcConnections",CLOSE_CONNECTION:"closeConnection",SHARE_API_DATA:"shareApiData"},Re={UNREAD:"unread",UPDATE_SETTING:"updateSetting"},Ce=199999,Ie=function(e){return!e||0===Object.keys(e).length},Me=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},Pe=function(e,t){if(!e)return!1;if(!t)return!0;var n=(e+="").length,r=(t+="").length;if(n!==r)return n>r;var o=e.split(""),i=null;return o.forEach((function(e,n){"boolean"!=typeof i&&(i=parseInt(e)>parseInt(t[n])||parseInt(e)===parseInt(t[n])&&null)})),!!i},he=function(){try{return!("undefined"!=typeof window&&"object"===h(window.process)&&"renderer"===window.process.type||"undefined"!=typeof process&&"object"===h(process.versions)&&process.versions.electron||"object"===("undefined"==typeof navigator?"undefined":h(navigator))&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}catch(e){return!0}}(),ye=n(602),Ne=n.n(ye),De=n(95).t,Ge=new(Ne()),be=function(e){return Ge.locale.set(e)},Le=function(e){return e.format("hh:mm")};!function(e){e.Today="today",e.Yesterday="yesterday"}(Se||(Se={})),function(e){e[e.Time=0]="Time"}(pe||(pe={})),function(e){e[e.sunday=0]="sunday",e[e.monday=1]="monday",e[e.tuesday=2]="tuesday",e[e.wednesday=3]="wednesday",e[e.thursday=4]="thursday",e[e.friday=5]="friday",e[e.saturday=6]="saturday"}(ve||(ve={}));var we,Ye=function(e){var t=e.value,n=e.date,r=e.suffix,o=e.prefix,i="",a="";if(o&&(i=De("conversation_detail.message_list.".concat(o.type))+(void 0===o.separator?"  ":o.separator)),r){var c=r.type===pe.Time?Le(n):"";a=(void 0===r.separator?", ":r.separator)+c}return i+t+a};!function(e){e[e.Yesterday=0]="Yesterday",e[e.Today=1]="Today",e[e.ThisMonth=2]="ThisMonth",e[e.ThisYear=3]="ThisYear",e[e.ThisWeek=4]="ThisWeek",e[e.NONE=5]="NONE"}(we||(we={}));var xe=864e5,Fe=function(e,t){var n=t||{},r=n.noTodayFlag,o=n.noTimeFlag,i=n.needFullFormat,a=n.onlyKeepDate,c=n.isConvPreview,u=Ge.create(e);if(i)return Ye({value:u.format("LHD"),date:u,suffix:{type:pe.Time}});if(a)return u.format("LHD");var _=["tw","cn"].includes(Ge.locale.current),s=function(e,t){var n=new Date,r=new Date(e);if(t){var o=n-r,i=(new Date).setHours(0,0,0,0);if(o<=6048e5&&o>=xe+(n.getTime()-i))return we.ThisWeek}if(n.getFullYear()===r.getFullYear()){if(n.getMonth()===r.getMonth()){var a=n.getDate(),c=r.getDate();return a===c?we.Today:a-1===c?we.Yesterday:we.ThisMonth}return we.ThisYear}return we.NONE}(e,c);switch(s){case we.Today:var l=r?void 0:{type:Se.Today},f={type:pe.Time,separator:""};return Ye({value:"",date:u,prefix:l,suffix:f});case we.Yesterday:var E={type:Se.Yesterday},T=o?void 0:{type:pe.Time,separator:""};return Ye({value:"",date:u,prefix:E,suffix:T});case we.ThisWeek:return De("common.".concat(ve[new Date(e).getDay()]));case we.ThisMonth:case we.ThisYear:var d=o?void 0:{type:pe.Time};return Ye({value:u.format(c?_?"MM/DD":"DD/MM":"LHDS"),date:u,suffix:d});default:var S=o?void 0:{type:pe.Time};return Ye({value:u.format(c?_?"YY/MM/DD":"DD/MM/YY":"LHD"),date:u,suffix:S})}},Ue="YYYY-MM-DD hh:mm",He=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ge.create(e).format(t||Ue)},ke=function(e){var t=e.created_at,n=e.created_timestamp;return Fe(t||1e3*n,{noTodayFlag:!0,noTimeFlag:!0,isConvPreview:!0})},Be=function(e,t){return Ge.create(e).format("LHD")===Ge.create(t).format("LHD")},Ve={0:"sunday",1:"monday",2:"tuesday",3:"wednesday",4:"thursday",5:"friday",6:"saturday"},We=function(e,t){var n=1e3*e;switch(t){case"time":var r=Ge.create(n);return Le(r);case"date":var o=new Date,i=new Date(n);if(o.getFullYear()===i.getFullYear()){if(o.getMonth()===i.getMonth()){var a=o.getDate(),c=i.getDate();if(a===c)return De("conversation_detail.message_list.today");if(a-1===c)return De("conversation_detail.message_list.yesterday");if(a-c<7){var u=i.getDay();return De("common.".concat(Ve[u]))}return Ge.create(n).format("LHDS")}return Ge.create(n).format("LHDS")}return Ge.create(n).format("LHD")}},Qe=function(e){var t=+e.split(":")[0],n=t>=12?"PM":"AM";return"".concat(t%12==0?12:t%12," ").concat(n)},je=n(661),qe=n.n(je),Ke=function(e){return 0===e||1===e?"one":e>=1e6?"many":"other"},Xe=function(e){return 1===e?"one":Number.isInteger(e)?[2,3,4].includes(e%10)&&![12,13,14].includes(e%100)?"few":![2,3,4].includes(e%10)||[12,13,14].includes(e%100)?"many":"other":"other"},ze=function(e){return e<=1?"one":"other"},Je={fr:Ke,pl:Xe,default:ze},$e={fr:function(e,t){return"".concat(Ke(e),".").concat(Ke(t))},pl:function(e,t){return"".concat(Xe(e),".").concat(Xe(t))},default:function(e,t){return"".concat(ze(e),"_").concat(ze(t))}},Ze=["fr","pl"],et=function(e,t,n){var r=qe().language||"en",o=Ze.includes(r)?r:"default";return void 0!==n?"".concat(e,"_").concat($e[o](t,n)):"".concat(e,"_").concat(Je[o](t))},tt=function(e,t){var n=t||window.location.search,r=null;if(n){var o=n.indexOf("?")+1,i=new RegExp("(^|&)"+e+"=([^&]*)(&|$)");r=n.substr(o).match(i)}return r?unescape(r[2]):null},nt=n(598),rt=n.n(nt),ot=n(480);function it(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?at(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ct=["hans","hant"],ut=["en","zh-hans","zh-hant","ms-my","th-th","vi-vn","id-id","zh-cn","pt-br","hi","es-mx","es-co","es-cl","es-es","es-ar","pl","fr","fil"],_t=function(e){return"".concat(e[0].toUpperCase()).concat(e.substring(1))},st=function(e){if(e.includes("-")){var t=e.split("-");return ct.includes(t[1])?"".concat(t[0],"-").concat(_t(t[1])):"".concat(t[0],"-").concat(t[1].toUpperCase())}return e},lt=function(e){var t,n=(e||"en").toLowerCase(),r="en",o=it(ut);try{for(o.s();!(t=o.n()).done;){var i=t.value;if(i.includes(n)){r=st(i);break}}}catch(e){o.e(e)}finally{o.f()}return r},ft=function(e){var t=lt(e);switch(t){case"th-TH":return"th";case"vi-VN":return"vi";case"id-ID":return"id";default:return t}},Et={en:"default","ms-MY":"ms-my","th-TH":"th",th:"th","zh-Hans":"tw","zh-Hant":"tw","vi-VN":"vn",vi:"vn","id-ID":"id",id:"id","zh-CN":"cn","pt-BR":"pt-br",hi:"hi","es-MX":"es-mx","es-CO":"es-co","es-CL":"es-cl",pl:"pl","es-ES":"es-es",fr:"fr","es-AR":"es-ar",fil:"fil"},Tt=function(e){var t=lt(e);return Et[t]||"default"},dt=function(){var e,t=rt().get("language");if(t)e=Ae[t]||"en";else{var n=Oe[(0,ot.X7)()]||"en";e=Ae[n]||"en"}return e},St=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,o=Date.now();return function(){for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];t&&(clearTimeout(t),t=null),Date.now()-o>r?(e.apply(void 0,a),o=Date.now()):t=window.setTimeout((function(){e.apply(void 0,a),o=Date.now()}),n)}},pt=function(e,t){var n,r,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=null,c=0,u=function(){c=!1===i.leading?0:(new Date).getTime(),a=null,o=e.apply(n,r),a||(n=r=null)},_=function(){var _=(new Date).getTime();c||!1!==i.leading||(c=_);var s=t-(_-c);n=this;for(var l=arguments.length,f=new Array(l),E=0;E<l;E++)f[E]=arguments[E];return r=f,s<=0||s>t?(a&&(clearTimeout(a),a=null),c=_,o=e.apply(n,r),a||(n=r=null)):a||!1===i.trailing||(a=window.setTimeout(u,s)),o};return _},vt="AI-Banner",Ot="MiniChat-Unreplied-Filter",At="modal",gt=function(e,t){var n=t.superType,r=t.secondaryType,o=e.find((function(e){return e.name===n}));if(o){var i=o.children;if(i.length){var a=i.find((function(e){return e.name===r}));return a||!1}return!1}return!1},mt=function(e){return gt(e,{superType:vt,secondaryType:At})},Rt=function(e){return gt(e,{superType:Ot,secondaryType:At})},Ct=n(349),It=n.n(Ct),Mt={getItem:function(e,t){try{var n=window.localStorage.getItem(e);return null==n?n:t?JSON.parse(n):n}catch(e){console.warn("*** LocalStorage Error: Can not get LocalStorage *** \n".concat(e))}},setItem:function(e,t,n){try{var r=n?JSON.stringify(t):t;window.localStorage.setItem(e,r)}catch(e){console.warn("*** LocalStorage Error: Can not set LocalStorage *** \n".concat(e))}},removeItem:function(e){try{window.localStorage.removeItem(e)}catch(e){console.warn("*** LocalStorage Error: Can not remove LocalStorage *** \n".concat(e))}}},Pt=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?Mt.getItem(e):It().getItem(e)},ht=function(e,t){return It().setItem(e,t)},yt=function(e,t){return t?Mt.removeItem(e):It().removeItem(e)},Nt=It().supports(It().INDEXEDDB)||It().supports(It().WEBSQL)?1e3:100;function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gt(e){return function(e){if(Array.isArray(e))return Dt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var bt,Lt=[1173241077,1261497292,1262080160,178828848,110573301,51115741],wt=[601262932,601263083],Yt=[441174],xt=function(e){var t=(0,ot.IE)();return("live"===t?Lt:"staging"===t?Yt:wt).includes(e)},Ft=n(95).t;function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kt=r.MSG_TYPE_TEXT,Bt=r.MSG_TYPE_IMAGE,Vt=r.MSG_TYPE_OFFER,Wt=r.MSG_TYPE_PRODUCT,Qt=r.MSG_TYPE_ORDER,jt=r.MSG_TYPE_STICKER,qt=r.MSG_TYPE_NOTIFICATION,Kt=r.MSG_TYPE_VOUCHER,Xt=r.MSG_TYPE_ITEM_LIST,zt=r.MSG_TYPE_FAQ,Jt=r.MSG_TYPE_FAQ_QUESTION,$t=r.MSG_TYPE_FAQ_LIVEAGENT,Zt=r.MSG_TYPE_FAQ_FEEDBACK,en=r.MSG_TYPE_FAQ_UNSUPPORTED,tn=r.MSG_TYPE_FAQ_FEEDBACK_PROMPT,nn=r.MSG_TYPE_FAQ_LIVEAGENT_PROMPT,rn=r.MSG_TYPE_BUNDLE_MESSAGE,on=r.MSG_TYPE_OPTION_PACK,an=r.MSG_TYPE_SELECTED_OPTION,cn=r.MSG_TYPE_VIDEO,un=r.MSG_TYPE_IMAGE_WITH_TEXT,_n=r.MSG_TYPE_RATE_CARD,sn=r.MSG_TYPE_NEW_FAQ,ln=r.MSG_TYPE_FAQ_CATEGORY_CHOICE,fn=r.MSG_TYPE_FAQ_QUESTION_LIST,En=r.MSG_TYPE_FAQ_TYPE_CHOICE,Tn=r.MSG_TYPE_FAQ_CATEGORY_LIST,dn=r.MSG_TYPE_FAQ_TYPE_BOT_REQUEST_TEXT_MESSAGE,Sn=r.MSG_TYPE_FAQ_TYPE_BOT_REQUEST_ORDER_MESSAGE,pn=r.FAQ_TYPE_BOT_RESPONSE_MESSAGE,vn=r.MSG_TYPE_SHOPPING_CART,On=r.MSG_TYPE_CRM_ITEM_LIST,An=r.MSG_TYPE_RR,gn=r.MSG_TYPE_CRM_ORDER_RATE,mn=r.MSG_TYPE_LOGISTICS_CARD,Rn=r.MSG_TYPE_LOGISTICS_ISSUE_ENQUIRY_CARD,Cn=r.MSG_TYPE_EXPEDITED_LOGISTICS_CARD,In=r.MSG_TYPE_LATE_DELIVERY_COMPENSATION_VOUCHER,Mn=r.MSG_TYPE_CUSTOMER_SERVICE_ENTRANCE,Pn=r.MSG_TYPE_FAQ_BOT_REVIEW_SUMMARY_CARD,hn=r.MSG_TYPE_OUT_STOCK_CARD,yn=r.MSG_TYPE_RESTOCK_REMINDER_CARD,Nn=r.MSG_TYPE_FAQ_BOT_TIMELINE_CARD,Dn=r.MSG_TYPE_BOT_BARGAIN_CARD,Gn=r.MSG_TYPE_FAQ_BOT_AUTHENTIC_CARD,bn=r.MSG_TYPE_FAQ_TYPE_BOT_CONTACT_COURIER_CARD,Ln=k.PENDING,wn=k.REJECTED,Yn="common.unsupported_message",xn=(N(bt={},$t,"faq.live_agent"),N(bt,en,"faq.new_unsupport_input"),N(bt,tn,"faq.feedback_prompt"),N(bt,nn,"faq.new_live_agent_prompt"),N(bt,cn,"conversation_detail.input_field.toolbar.video.tip"),N(bt,un,"conversation_list.conversation_cell.new_image_message"),bt),Fn=function(e,t){var n=xn[e]||Yn;return xt(t)&&("faq.new_unsupport_input"!==n&&"faq.live_agent"!==n&&"faq.new_live_agent_prompt"!==n||(n="".concat(n,"_idscs"))),Ft(n)},Un=[Xt],Hn=[cn,en,tn,nn,un],kn=[Bt,rn,Sn,Vt,Wt,Qt,Kt,_n,jt],Bn=[fn,En,Tn],Vn=[mn,Rn,Cn,In],Wn=[bn],Qn=function(t){var n=t.message,r=t.enableTranslation,o=t.locale,i=t.conversationShopId,a=t.currentSellerAccountId,c=t.isChatlistPreview,u=t.toShopId;if(!n)return{text:Ft(Yn)};var _=n.type,s=n.content,l=void 0===s?{}:s,f=n.crm_message_preview,E=void 0===f?{}:f,T=n.message_option,S=n.source,g=n.send_status,m=n.custom_preview_text,R=n.label_info,C=(R=void 0===R?{}:R).label_type,I=ft(o),M=[d.CHAT_ASSISTANT].includes(C),P="common.ai_assistant";xt(u)&&(P="common.ai_assistant_idscs");var h=Wn.includes(_)||!E.text&&(null==m||!m.text)&&M?"[".concat(Ft(P),"] "):"";if(E.text)return{text:"".concat(dr(E,I))};if(jn(T,e.MSG_OPT_CENSORED_BLACKLIST))return{text:"".concat(h).concat(Ft("common.blacklist.replaced_text"))};if(_){var y,N,D=l||{},G=D.text,b=void 0===G?"":G,L=D.title,w=D.opening,Y=D.caption,x=D.translation,F=D.product_name,U=D.sticker_name,H=D.chat_product_infos,k=void 0===H?[]:H,B=D.products,V=void 0===B?[]:B,W=D.rr_detail,Q=D.user_id,j=D.enquiry_info,q=void 0===j?{}:j,K=D.common_info,X=void 0===K?{}:K,z=D.bot_data,J=D.business_info,$=ar(n,{isAgent:!1,shop_id:i}),Z=function(e,t,n,r,o){var i,a=t||{},c=a.live_agent_text,u=void 0===c?[]:c,_=a.fixed_title,s=a.faq_type_choice_translation;if(Hn.includes(e))i=u.length?Kn(u,n):Fn(e,o);else if(Bn.includes(e))i=Kn(e===En?s:_,n);else if(Vn.includes(e))i=Ft("message.logistics_card.preview.prefix");else{var l=kn.includes(e)?"conversation_list.conversation_cell.new_".concat(e,"_message"):Un.includes(e)?"common.tips.recommended".concat(r?"":"_for_you"):"";i=l?"[".concat(Ft(l),"]"):Ft(Yn)}return i}(_,l,o,$,u);switch(_){case Nn:N=c?dr(m,I)||Ft(Yn):null==J?void 0:J.quoted_text;break;case pn:var ee=JSON.parse(z)||{},te=ee.message,ne=(te=void 0===te?{}:te).plain_text,re=void 0===ne?"":ne,oe=ee.reply_type;N=(N=1===oe||1001===oe?re:null!=l&&l.preview_text?null==l?void 0:l.preview_text:Ft(Yn))||(null==l?void 0:l.preview_text)||Ft(Yn);break;case sn:case zt:N=w||Ft("faq.no_set.chat_bot_title");break;case kt:if($)N=b;else{var ie=Xn(l);N=!r||ie||T===e.MSG_OPT_SOCIAL_MESSAGE||["crm","proactive_update"].includes(S)||2===g?b:(null==x?void 0:x.text)||b}break;case $t:case Jt:case Zt:case an:case on:case ln:case dn:N=b||L;break;case cn:N="[".concat(Z,"]");break;case un:N="[".concat(Z,"] ").concat(Y||L||b);break;case en:case tn:case nn:case fn:case En:case Tn:N=Z;break;case Wt:N="".concat(Z," ").concat(F);break;case jt:N=U?"[".concat(U,"]"):Z;break;case Xt:var ae=k.map((function(e){return e.name})).join("; ");N="".concat(Z," ").concat(ae);break;case qt:var ce=Zn(l||{},o),ue=ce.notification_for_sender,_e=ce.notification_for_receiver,se=ce.notifications_for_sender_hyperlink,le=ce.notifications_for_receiver_hyperlink;if([].concat(Gt(p),[v,O],Gt(A)).includes(l.notification_type)){if((N=$?se:le).includes("<a>")){var fe=N.split("<a>").join("");N=fe.split("</a>").join("")}}else N=$?ue:_e;break;case _n:N="".concat(Z," ").concat(Ft($?"conversation_list.preview.rate_card_sender":"rate_card.rate_out_service"));break;case Vt:var Ee=l||{},Te=Ee.status,de=Ee.products_count,Se=Ee.offer_price;if(Te)if(Te===Ln){var pe=Ft("conversation_list.preview.offer_pending_".concat($?"sender":"receiver"));N="".concat(Z," ").concat(pe,": ").concat(Se," x ").concat(de),$||(y=!0)}else{var ve=Te===wn?"declined":Te;N="".concat(Z," ").concat(Ft("conversation_detail.workstation.offer_panel.".concat(ve)))}else N=Z;break;case Qt:N="".concat(Z," ").concat(V.map((function(e){return e.title})).join("; "));break;case Kt:var Oe=l||{},Ae=Oe.type,ge=Oe.rule_text,me=Oe.discount_text;if(Ae){var Re="[".concat(Ft("conversation_detail.workstation.voucher_panel.".concat(Ae,"_voucher")),"]");xt(u)&&"shop"===Ae&&(Re="[".concat(Ft("conversation_detail.workstation.voucher_panel.".concat(Ae,"_voucher_idscs")),"]")),N="".concat(Re," ").concat(me,", ").concat(ge)}else N=Z;break;case vn:N=Ft("message.cart_reminder");break;case On:var Ce,Ie,Me,Pe=null!==(Ce=null==l?void 0:l.title)&&void 0!==Ce?Ce:{};N=(null===(Ie=Pe.translated_with_lang)||void 0===Ie||null===(Me=Ie.find((function(e){return e.language===ft(o)})))||void 0===Me?void 0:Me.text)||Pe.text||Ft(Yn);break;case An:var he=W.solution,ye=W.status,Ne=tr({isBuyer:a===Q,solution:he,status:ye});N="[".concat(Ft("label.return_and_refund"),"]").concat(Ne);break;case gn:var De,Ge;N=(null==m||null===(De=m.translated_text)||void 0===De||null===(Ge=De.find((function(e){return e.translated_language===ft(o)})))||void 0===Ge?void 0:Ge.translated_text)||(null==m?void 0:m.text)||Ft(Yn),N=dr(m,I)||Ft(Yn);break;case mn:case Cn:var be=nr(_,l,X.user_id===a,!0);N="[".concat(Z,"] ").concat(be);break;case Rn:var Le=rr(q);N="[".concat(Z,"] ").concat(Le);break;case In:N="[".concat(Z,"] ").concat(Ft("message.late_delivery_compensation_voucher.title"));break;case Mn:N=Ft("text.customer_service_entrance");break;case Pn:var we,Ye;N=(null==m||null===(we=m.translated_text)||void 0===we||null===(Ye=we.find((function(e){return e.translated_language===ft(o)})))||void 0===Ye?void 0:Ye.translated_text)||(null==m?void 0:m.text)||Ft(Yn),N=dr(m,I)||Ft(Yn);break;case hn:N="[".concat(Ft("preview.set_restock_reminder"),"]");break;case yn:N="[".concat(Ft("preview.restock_reminder"),"]");break;case Dn:N="[".concat(Ft("common.preview.bargain_card"),"]");break;case Gn:N=Ft("Authentic_card_preview");break;case bn:N=null==J?void 0:J.quoted_text;break;default:N=Z}return{text:"".concat(h).concat(N),isPendingReceivedOffer:y}}return{text:"".concat(h).concat(Ft(Yn))}},jn=function(e,t){return(e&t)===t},qn=function(){return jn((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).message_option,e.MSG_OPT_DELETE)},Kn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=e.find((function(e){return ft(t).toLocaleLowerCase().includes(e.lang.toLocaleLowerCase())}))||e.find((function(e){return"en"===e.lang}));return(n||{}).text},Xn=function(e){var t=e||{},n=t.translation,r=t.mid;if(!n)return!0;var o=(void 0===r?{}:r).source_language,i=void 0===o?"":o,a=n||{},c=a.final,u=a.mid,_=a.target_language,s=void 0===_?"":_,l=a.source_language,f=void 0===l?"":l,E=c?c.target_language:s,T=c?c.source_language:f,d=u?u.source_language:i;return d?d===E:T===E&&"unknown"!==T},zn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.updateMaxGeneralOptionHideTime,r=void 0===n||n,o=t.updateMessageOption,i=void 0===o||o,a=e||{},c=a.created_timestamp,u=a.message_option,_=i?{last_message_option:u}:{};return Ht(Ht({},r?{max_general_option_hide_time:c}:{}),_)},Jn=function(e){var t=e.crm_message_preview,n=void 0===t?{}:t;return n.text?{crm_message_preview:n}:{crm_message_preview:{}}},$n=function(e){var t=e.custom_preview_text,n=void 0===t?{}:t;return n.text?{custom_preview_text:n}:{custom_preview_text:{}}},Zn=function(e,t){var n=e.noti_text_of_all_languages,r=void 0===n?[]:n;if(!r.length)return e;var o=r.find((function(e){return ft(t).toLocaleLowerCase().includes(e.language.toLocaleLowerCase())}));if(o)return o;var i=r.find((function(e){return"en"===e.language}));return i||e},er=function(e){var t=e.type,n=e.textContent,r=e.content,o={};switch(t){case Qt:o={products:(n||{}).products};break;case Kt:var i=n||{};o={rule_text:i.rule_text,discount_text:i.discount_text,type:i.type};break;case Vt:var a=n||{};o={status:a.status,products_count:a.products_count,offer_price:a.offer_price};break;case Wt:o={product_name:r.product_name||(null==n?void 0:n.name)}}return Ht(Ht({},e),{},{content:Ht(Ht({},r),o)})},tr=function(e){var t=e.isBuyer,n=e.status,r=e.solution===s.Return?"return":"return_refund",o=n===_.Submit?"proposed":n===_.Refund?"succeed":"rejected";return Ft("rr_message_title.".concat(t?"buyer":"seller",".").concat(r,".").concat(o))},nr=function(e,t,n,o){var i=t.common_info,a=(i=void 0===i?{}:i).card_label,c=i.order_delivery_status,u=t.logistic_tracking_info,_=(u=void 0===u?{}:u).estimate_delivery_time,s=u.stuck_time,l=t.expedite_delivery_button,T=e===r.MSG_TYPE_EXPEDITED_LOGISTICS_CARD,d=a===f.Inquiry,p=S[E[c]],v="".concat(He(1e3*_,"www"),", ").concat(He(1e3*_,"LHDS")),O=o?v:"<a>".concat(v,"</a>"),A=Math.floor(s/86400),g="stuck"===p&&0===A,m="";if(T&&n&&!d)m=Ft("message.expedited_logistics_card.title.buyer.expedite");else if(n){var R=l||T||c!==E.AfterGuarantee&&c!==E.AfterEstimated&&(c!==E.Stuck||d)?"":".unable_expedite";m=Ft("message.".concat(e,".title.buyer.").concat(d?"inquiry":"expedite",".").concat(p).concat(R),{date:O,num:A}),g&&!T&&(m=d?Ft("message.logistics_card.title.buyer.inquiry.normal",{date:O}):Ft("message.logistics_card.title.buyer.expedite.nostuck".concat(R)))}else m=Ft("message.logistics_card.title.seller.".concat(p),{date:O,num:A}),g&&(m="".concat(Ft("message.logistics_card.title.seller.normal",{date:O})).concat(Ft("message.logistics_card.title.buyer.expedite.nostuck.unable_expedite")));return m},rr=function(e){var t=e||{},n=t.display_sla_type,r=t.display_sla_value,o=t.enquiry_id;if(n===l.day&&r&&o&&"0"!==o){var i="".concat(l[n],"s");return Ft("message.issue_enquiry_card.title.".concat(i),{value:r})}return Ft("message.issue_enquiry_card.title.unavailable")},or=function(t){return(t&e.MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER)===e.MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER},ir=function(e,t){return!t&&!or(e)},ar=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isAgent,r=t.to_tob_user_id,o=t.shop_id,i=e.from_id,a=e.to_shop_id;return n?i!==r:a!==o},cr=function(e){return e.replace(/[.[\]{}()+?*^\\$?]/g,"\\$&")},ur=function(){return Math.ceil(Date.now()/1e3).toString()},_r=function(e,t,n,r){return t?e:e||r&&!!n},sr=function(e){return"".concat("\n  margin: 0;\n  box-sizing: border-box;\n  padding: 8px 10px 10px;\n  font-size: 14px;\n  line-height: 20px;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  position: fixed;\n  left: -1000;\n  right: -1000;\n","max-width: ").concat(e,"px")},lr=function(e){var t=document.createElement("span");return t.setAttribute("style","\n  font-size: 12px;\n  line-height: 16px;\n  margin-left: 8px\n"),t.innerText=e,t},fr=function(e,t,n){var r=document.createElement("pre"),o=sr(e);if(r.id="chat-text-pre",r.setAttribute("style",o),r.innerText=t,n){var i=lr(n);r.appendChild(i)}return r},Er=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"height";document.body.appendChild(e);var n=e.getBoundingClientRect(),r="height"===t?n.height:n.width;return document.body.removeChild(e),r},Tr=function(e,t,n){var r=fr(n,e),o=lr(t),i=fr(n,e,t),a=Er(r);return{conflict:a!==Er(i),multiLine:a>38,timeWidth:Er(o,"width"),widthConflict:Er(i,"width")>Er(r,"width")}},dr=function(e,t){var n,r,o,i;return(null==e||null===(n=e.translated_with_lang)||void 0===n||null===(r=n.find((function(e){return e.language===t})))||void 0===r?void 0:r.text)||(null==e||null===(o=e.translated_text)||void 0===o||null===(i=o.find((function(e){return e.translated_language===t})))||void 0===i?void 0:i.translated_text)||(null==e?void 0:e.text)||""},Sr=n(95)}(),c}())},29494:function(e,t,n){"use strict";e.exports=n(96296)}}]);